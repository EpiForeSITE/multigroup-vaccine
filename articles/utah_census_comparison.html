<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Utah Census Data: Measles Outbreak Modeling Comparison • multigroup.vaccine</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Utah Census Data: Measles Outbreak Modeling Comparison">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">multigroup.vaccine</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/epiworld_comparison.html">Comparison to epiworld</a></li>
    <li><a class="dropdown-item" href="../articles/measles_agemodel.html">Measles Age-Structured Model</a></li>
    <li><a class="dropdown-item" href="../articles/measles_example.html">Measles Outbreak Example</a></li>
    <li><a class="dropdown-item" href="../articles/measles_example2.html">Measles Outbreak Example 2</a></li>
    <li><a class="dropdown-item" href="../articles/run_model_on_command_line.html">Run Model in the console</a></li>
    <li><a class="dropdown-item" href="../articles/sensitivity_analysis.html">Sensitivity Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/utah_census_comparison.html">Utah Census Data: Measles Outbreak Modeling Comparison</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Utah Census Data: Measles Outbreak Modeling Comparison</h1>
            
      

      <div class="d-none name"><code>utah_census_comparison.Rmd</code></div>
    </div>

    
    
<style type="text/css">
body {
  max-width: 1100px;
  margin: auto;
  padding: 1em;
}

table {
  width: 100%;
}
</style>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://epiforesite.github.io/multigroup-vaccine/">multigroup.vaccine</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiforecasts/socialmixr" class="external-link">socialmixr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use the included example data file to avoid download issues during package building</span></span>
<span><span class="va">census_csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCensusDataPath.html">getCensusDataPath</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette demonstrates how to use the
<code><a href="../reference/getCensusData.html">getCensusData()</a></code> function to retrieve real U.S. Census
Bureau population data for Utah counties and use it in measles outbreak
modeling. We’ll compare how different counties with varying demographic
structures respond to measles outbreaks under different vaccination
scenarios.</p>
<p><strong>Note:</strong> This vignette uses the included example census
data file to ensure it works offline and during package building.</p>
</div>
<div class="section level2">
<h2 id="measles-model-setup">Measles Model Setup<a class="anchor" aria-label="anchor" href="#measles-model-setup"></a>
</h2>
<p>For measles outbreak modeling, we’ll use the standard age groups from
the measles age-structured model:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Standard measles age groups: under 1, 1-4, 5-11, 12-17, 18-24, 25-44, 45-69, 70+</span></span>
<span><span class="va">agelims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">12</span>, <span class="fl">18</span>, <span class="fl">25</span>, <span class="fl">45</span>, <span class="fl">70</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Vaccine effectiveness by age group</span></span>
<span><span class="va">ageveff</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.93</span>, <span class="fl">0.93</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.97</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Initial infection in the 25-44 age group (working age adults)</span></span>
<span><span class="va">initgrp</span> <span class="op">&lt;-</span> <span class="fl">6</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-census-data-for-utah-counties">Getting Census Data for Utah Counties<a class="anchor" aria-label="anchor" href="#getting-census-data-for-utah-counties"></a>
</h2>
<p>Let’s retrieve population data for three diverse Utah counties:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">utah_fips</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getStateFIPS.html">getStateFIPS</a></span><span class="op">(</span><span class="st">"Utah"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get data for three counties with different characteristics</span></span>
<span><span class="va">counties</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Salt Lake County"</span>, <span class="st">"Utah County"</span>, <span class="st">"Washington County"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">county_data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">county</span> <span class="kw">in</span> <span class="va">counties</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCensusData.html">getCensusData</a></span><span class="op">(</span></span>
<span>    state_fips <span class="op">=</span> <span class="va">utah_fips</span>,</span>
<span>    county_name <span class="op">=</span> <span class="va">county</span>,</span>
<span>    year <span class="op">=</span> <span class="fl">2024</span>,</span>
<span>    age_groups <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>    csv_path <span class="op">=</span> <span class="va">census_csv</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">county_data_list</span><span class="op">[[</span><span class="va">county</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">data</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n"</span>, <span class="va">county</span>, <span class="st">":\n"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Total population:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">total_pop</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Age distribution:\n"</span><span class="op">)</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">age_labels</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">pct</span> <span class="op">&lt;-</span> <span class="fl">100</span> <span class="op">*</span> <span class="va">data</span><span class="op">$</span><span class="va">age_pops</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">/</span> <span class="va">data</span><span class="op">$</span><span class="va">total_pop</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"    %s: %s (%.1f%%)\n"</span>,</span>
<span>                <span class="va">data</span><span class="op">$</span><span class="va">age_labels</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">age_pops</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>,</span>
<span>                <span class="va">pct</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv</span></span>
<span><span class="co">#&gt; Aggregating ages 0 to 0: sum = 14732</span></span>
<span><span class="co">#&gt; Aggregating ages 1 to 4: sum = 57711</span></span>
<span><span class="co">#&gt; Aggregating ages 5 to 11: sum = 111884</span></span>
<span><span class="co">#&gt; Aggregating ages 12 to 17: sum = 108100</span></span>
<span><span class="co">#&gt; Aggregating ages 18 to 24: sum = 125472</span></span>
<span><span class="co">#&gt; Aggregating ages 25 to 44: sum = 379015</span></span>
<span><span class="co">#&gt; Aggregating ages 45 to 69: sum = 318909</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Salt Lake County:</span></span>
<span><span class="co">#&gt;   Total population: 1,216,274 </span></span>
<span><span class="co">#&gt;   Age distribution:</span></span>
<span><span class="co">#&gt;     under1: 14,732 (1.2%)</span></span>
<span><span class="co">#&gt;     1to4: 57,711 (4.7%)</span></span>
<span><span class="co">#&gt;     5to11: 111,884 (9.2%)</span></span>
<span><span class="co">#&gt;     12to17: 108,100 (8.9%)</span></span>
<span><span class="co">#&gt;     18to24: 125,472 (10.3%)</span></span>
<span><span class="co">#&gt;     25to44: 379,015 (31.2%)</span></span>
<span><span class="co">#&gt;     45to69: 318,909 (26.2%)</span></span>
<span><span class="co">#&gt;     70plus: 100,451 (8.3%)</span></span>
<span><span class="co">#&gt; Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv</span></span>
<span><span class="co">#&gt; Aggregating ages 0 to 0: sum = 12053</span></span>
<span><span class="co">#&gt; Aggregating ages 1 to 4: sum = 48596</span></span>
<span><span class="co">#&gt; Aggregating ages 5 to 11: sum = 88402</span></span>
<span><span class="co">#&gt; Aggregating ages 12 to 17: sum = 78366</span></span>
<span><span class="co">#&gt; Aggregating ages 18 to 24: sum = 125580</span></span>
<span><span class="co">#&gt; Aggregating ages 25 to 44: sum = 210551</span></span>
<span><span class="co">#&gt; Aggregating ages 45 to 69: sum = 143596</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Utah County:</span></span>
<span><span class="co">#&gt;   Total population: 747,234 </span></span>
<span><span class="co">#&gt;   Age distribution:</span></span>
<span><span class="co">#&gt;     under1: 12,053 (1.6%)</span></span>
<span><span class="co">#&gt;     1to4: 48,596 (6.5%)</span></span>
<span><span class="co">#&gt;     5to11: 88,402 (11.8%)</span></span>
<span><span class="co">#&gt;     12to17: 78,366 (10.5%)</span></span>
<span><span class="co">#&gt;     18to24: 125,580 (16.8%)</span></span>
<span><span class="co">#&gt;     25to44: 210,551 (28.2%)</span></span>
<span><span class="co">#&gt;     45to69: 143,596 (19.2%)</span></span>
<span><span class="co">#&gt;     70plus: 40,090 (5.4%)</span></span>
<span><span class="co">#&gt; Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv</span></span>
<span><span class="co">#&gt; Aggregating ages 0 to 0: sum = 2263</span></span>
<span><span class="co">#&gt; Aggregating ages 1 to 4: sum = 9687</span></span>
<span><span class="co">#&gt; Aggregating ages 5 to 11: sum = 18808</span></span>
<span><span class="co">#&gt; Aggregating ages 12 to 17: sum = 18446</span></span>
<span><span class="co">#&gt; Aggregating ages 18 to 24: sum = 19948</span></span>
<span><span class="co">#&gt; Aggregating ages 25 to 44: sum = 49399</span></span>
<span><span class="co">#&gt; Aggregating ages 45 to 69: sum = 55271</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Washington County:</span></span>
<span><span class="co">#&gt;   Total population: 207,943 </span></span>
<span><span class="co">#&gt;   Age distribution:</span></span>
<span><span class="co">#&gt;     under1: 2,263 (1.1%)</span></span>
<span><span class="co">#&gt;     1to4: 9,687 (4.7%)</span></span>
<span><span class="co">#&gt;     5to11: 18,808 (9.0%)</span></span>
<span><span class="co">#&gt;     12to17: 18,446 (8.9%)</span></span>
<span><span class="co">#&gt;     18to24: 19,948 (9.6%)</span></span>
<span><span class="co">#&gt;     25to44: 49,399 (23.8%)</span></span>
<span><span class="co">#&gt;     45to69: 55,271 (26.6%)</span></span>
<span><span class="co">#&gt;     70plus: 34,121 (16.4%)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scenario-1-current-vaccination-coverage">Scenario 1: Current Vaccination Coverage<a class="anchor" aria-label="anchor" href="#scenario-1-current-vaccination-coverage"></a>
</h2>
<p>Let’s model outbreaks under current estimated vaccination coverage
levels in Utah.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Based on school data and estimates</span></span>
<span><span class="va">current_coverage</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.89</span>, <span class="fl">0.949</span>, <span class="fl">0.950</span>, <span class="fl">0.95</span>, <span class="fl">0.95</span>, <span class="fl">0.95</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="salt-lake-county---current-coverage">Salt Lake County - Current Coverage<a class="anchor" aria-label="anchor" href="#salt-lake-county---current-coverage"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">slc_data</span> <span class="op">&lt;-</span> <span class="va">county_data_list</span><span class="op">[[</span><span class="st">"Salt Lake County"</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">slc_current</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">slc_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">current_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Salt Lake County - Current Vaccination Coverage\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Salt Lake County - Current Vaccination Coverage</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">slc_current</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0        Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24 25to44</span></span>
<span><span class="co">#&gt;  10 0.8230570   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  11 0.9053627   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  12 0.9876684   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  13 1.0699741   0.089         9851    824  911  1186   1603   1019   2783</span></span>
<span><span class="co">#&gt;  14 1.1522798   0.110        20476   1818 1948  2402   3002   2119   5891</span></span>
<span><span class="co">#&gt;  15 1.2345855   0.168        29907   2785 2893  3413   4045   3089   8703</span></span>
<span><span class="co">#&gt;  16 1.3168913   0.230        38179   3699 3732  4246   4842   3931  11189</span></span>
<span><span class="co">#&gt;  17 1.3991970   0.270        45408   4550 4466  4932   5465   4657  13365</span></span>
<span><span class="co">#&gt;  18 1.4815027   0.278        51727   5336 5106  5499   5959   5282  15263</span></span>
<span><span class="co">#&gt;  45to69 70+</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;    1524   0</span></span>
<span><span class="co">#&gt;    3297   0</span></span>
<span><span class="co">#&gt;    4979   0</span></span>
<span><span class="co">#&gt;    6539   0</span></span>
<span><span class="co">#&gt;    7972   0</span></span>
<span><span class="co">#&gt;    9282   0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="utah-county---current-coverage">Utah County - Current Coverage<a class="anchor" aria-label="anchor" href="#utah-county---current-coverage"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">utah_data</span> <span class="op">&lt;-</span> <span class="va">county_data_list</span><span class="op">[[</span><span class="st">"Utah County"</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">utah_current</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">utah_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">current_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nUtah County - Current Vaccination Coverage\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Utah County - Current Vaccination Coverage</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">utah_current</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0        Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24 25to44</span></span>
<span><span class="co">#&gt;  10 0.8278784   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  11 0.9106663   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  12 0.9934541   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  13 1.0762419   0.055         6979    698  809  1000   1213   1177   1460</span></span>
<span><span class="co">#&gt;  14 1.1590298   0.123        13862   1481 1661  1938   2188   2326   2975</span></span>
<span><span class="co">#&gt;  15 1.2418176   0.149        19968   2252 2444  2722   2922   3324   4369</span></span>
<span><span class="co">#&gt;  16 1.3246055   0.203        25335   2989 3143  3369   3488   4180   5625</span></span>
<span><span class="co">#&gt;  17 1.4073933   0.228        30042   3681 3759  3904   3933   4912   6748</span></span>
<span><span class="co">#&gt;  18 1.4901811   0.269        34171   4326 4299  4348   4288   5536   7745</span></span>
<span><span class="co">#&gt;  45to69 70+</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;     623   0</span></span>
<span><span class="co">#&gt;    1293   0</span></span>
<span><span class="co">#&gt;    1935   0</span></span>
<span><span class="co">#&gt;    2540   0</span></span>
<span><span class="co">#&gt;    3105   0</span></span>
<span><span class="co">#&gt;    3629   0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="washington-county---current-coverage">Washington County - Current Coverage<a class="anchor" aria-label="anchor" href="#washington-county---current-coverage"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wash_data</span> <span class="op">&lt;-</span> <span class="va">county_data_list</span><span class="op">[[</span><span class="st">"Washington County"</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">wash_current</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">wash_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">current_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nWashington County - Current Vaccination Coverage\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Washington County - Current Vaccination Coverage</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">wash_current</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0        Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24 25to44</span></span>
<span><span class="co">#&gt;  10 0.8122234   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  11 0.8934457   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  12 0.9746681   0.000            0      0    0     0      0      0      0</span></span>
<span><span class="co">#&gt;  13 1.0558904   0.066         1075     82  103   146    221    111    238</span></span>
<span><span class="co">#&gt;  14 1.1371128   0.104         2562    209  257   341    467    267    583</span></span>
<span><span class="co">#&gt;  15 1.2183351   0.166         3945    341  407   512    654    412    917</span></span>
<span><span class="co">#&gt;  16 1.2995574   0.176         5197    472  546   657    798    544   1226</span></span>
<span><span class="co">#&gt;  17 1.3807798   0.222         6317    597  672   779    910    660   1506</span></span>
<span><span class="co">#&gt;  18 1.4620021   0.260         7314    714  783   880    999    763   1757</span></span>
<span><span class="co">#&gt;  45to69 70+</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;       0   0</span></span>
<span><span class="co">#&gt;     175   0</span></span>
<span><span class="co">#&gt;     437   0</span></span>
<span><span class="co">#&gt;     700   0</span></span>
<span><span class="co">#&gt;     954   0</span></span>
<span><span class="co">#&gt;    1194   0</span></span>
<span><span class="co">#&gt;    1417   0</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visualization-comparing-counties">Visualization: Comparing Counties<a class="anchor" aria-label="anchor" href="#visualization-comparing-counties"></a>
</h2>
<p>Let’s visualize the outbreak potential across counties:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract R0=15 results for comparison</span></span>
<span><span class="va">r0_15_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">slc_current</span><span class="op">[</span>, <span class="st">"R0"</span><span class="op">]</span> <span class="op">==</span> <span class="fl">15</span><span class="op">)</span></span>
<span></span>
<span><span class="va">counties_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Salt Lake"</span>, <span class="st">"Utah"</span>, <span class="st">"Washington"</span><span class="op">)</span></span>
<span><span class="va">escape_totals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="va">slc_current</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span>,</span>
<span>  <span class="va">utah_current</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span>,</span>
<span>  <span class="va">wash_current</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span><span class="va">total_pops</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="va">slc_data</span><span class="op">$</span><span class="va">total_pop</span>,</span>
<span>  <span class="va">utah_data</span><span class="op">$</span><span class="va">total_pop</span>,</span>
<span>  <span class="va">wash_data</span><span class="op">$</span><span class="va">total_pop</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">escape_pcts</span> <span class="op">&lt;-</span> <span class="fl">100</span> <span class="op">*</span> <span class="va">escape_totals</span> <span class="op">/</span> <span class="va">total_pops</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Absolute numbers</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">escape_totals</span>,</span>
<span>        names.arg <span class="op">=</span> <span class="va">counties_names</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"Potential Outbreak Size (R0=15)\nCurrent Coverage"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"Total Infections"</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"coral"</span>,</span>
<span>        las <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Percentages</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">escape_pcts</span>,</span>
<span>        names.arg <span class="op">=</span> <span class="va">counties_names</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"% of Population (R0=15)\nCurrent Coverage"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"% of Population Infected"</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"steelblue"</span>,</span>
<span>        las <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="utah_census_comparison_files/figure-html/plot-comparison-current-1.png" class="r-plt" width="1056"></p>
</div>
<div class="section level2">
<h2 id="scenario-2-reduced-vaccination-coverage">Scenario 2: Reduced Vaccination Coverage<a class="anchor" aria-label="anchor" href="#scenario-2-reduced-vaccination-coverage"></a>
</h2>
<p>What happens if vaccination coverage drops by 10% across all age
groups?</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reduced_coverage</span> <span class="op">&lt;-</span> <span class="va">current_coverage</span> <span class="op">*</span> <span class="fl">0.9</span>  <span class="co"># 10% reduction</span></span>
<span><span class="va">reduced_coverage</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>  <span class="co"># Keep under-1 at 0</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">slc_reduced</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">slc_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">reduced_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">utah_reduced</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">utah_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">reduced_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">wash_reduced</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">wash_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">reduced_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Salt Lake County - Reduced Coverage (-10%)\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Salt Lake County - Reduced Coverage (-10%)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">slc_reduced</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0       Rv pEscape escapeInfTot under1  1to4 5to11 12to17 18to24 25to44</span></span>
<span><span class="co">#&gt;  10 1.732356   0.364       128907   5707  8507 14165  15170  14514  41340</span></span>
<span><span class="co">#&gt;  11 1.905592   0.421       144103   6709  9637 15393  16082  16032  46188</span></span>
<span><span class="co">#&gt;  12 2.078827   0.459       156123   7584 10537 16286  16714  17176  49923</span></span>
<span><span class="co">#&gt;  13 2.252063   0.488       165749   8350 11260 16946  17160  18050  52827</span></span>
<span><span class="co">#&gt;  14 2.425298   0.564       173545   9023 11844 17441  17483  18724  55104</span></span>
<span><span class="co">#&gt;  15 2.598534   0.593       179922   9615 12319 17817  17718  19251  56903</span></span>
<span><span class="co">#&gt;  16 2.771770   0.591       185185  10138 12708 18106  17893  19665  58335</span></span>
<span><span class="co">#&gt;  17 2.945005   0.643       189565  10601 13028 18330  18023  19993  59482</span></span>
<span><span class="co">#&gt;  18 3.118241   0.659       193236  11011 13293 18505  18121  20255  60407</span></span>
<span><span class="co">#&gt;  45to69  70+</span></span>
<span><span class="co">#&gt;   26873 2629</span></span>
<span><span class="co">#&gt;   30913 3149</span></span>
<span><span class="co">#&gt;   34280 3623</span></span>
<span><span class="co">#&gt;   37099 4057</span></span>
<span><span class="co">#&gt;   39472 4454</span></span>
<span><span class="co">#&gt;   41479 4820</span></span>
<span><span class="co">#&gt;   43185 5156</span></span>
<span><span class="co">#&gt;   44642 5466</span></span>
<span><span class="co">#&gt;   45890 5753</span></span></code></pre></div>
<div class="section level3">
<h3 id="impact-of-reduced-coverage">Impact of Reduced Coverage<a class="anchor" aria-label="anchor" href="#impact-of-reduced-coverage"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare current vs reduced for R0=15</span></span>
<span><span class="va">escape_reduced</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="va">slc_reduced</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span>,</span>
<span>  <span class="va">utah_reduced</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span>,</span>
<span>  <span class="va">wash_reduced</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">escape_totals</span>, <span class="va">escape_reduced</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">comparison_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">counties_names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">comparison_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Current"</span>, <span class="st">"Reduced -10%"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">comparison_matrix</span>,</span>
<span>        beside <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"Impact of 10% Reduction in Vaccination Coverage\n(R0=15)"</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"County"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"Total Infections"</span>,</span>
<span>        col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"steelblue"</span>, <span class="st">"coral"</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">comparison_matrix</span><span class="op">)</span>,</span>
<span>        args.legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"topleft"</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="utah_census_comparison_files/figure-html/plot-coverage-impact-1.png" class="r-plt" width="1056"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Calculate percent increase</span></span>
<span><span class="va">pct_increase</span> <span class="op">&lt;-</span> <span class="fl">100</span> <span class="op">*</span> <span class="op">(</span><span class="va">escape_reduced</span> <span class="op">-</span> <span class="va">escape_totals</span><span class="op">)</span> <span class="op">/</span> <span class="va">escape_totals</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nPercent increase in outbreak size with 10% coverage reduction:\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percent increase in outbreak size with 10% coverage reduction:</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">counties_names</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"  %s: +%.1f%%\n"</span>, <span class="va">counties_names</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="va">pct_increase</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt;   Salt Lake: +501.6%</span></span>
<span><span class="co">#&gt;   Utah: +462.6%</span></span>
<span><span class="co">#&gt;   Washington: +618.7%</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="scenario-3-age-specific-vaccination-gaps">Scenario 3: Age-Specific Vaccination Gaps<a class="anchor" aria-label="anchor" href="#scenario-3-age-specific-vaccination-gaps"></a>
</h2>
<p>What if vaccination coverage is particularly low in school-age
children (5-17)?</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">school_gap_coverage</span> <span class="op">&lt;-</span> <span class="va">current_coverage</span></span>
<span><span class="va">school_gap_coverage</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.75</span>  <span class="co"># 5-11: reduced from 85.2% to 75%</span></span>
<span><span class="va">school_gap_coverage</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.75</span>  <span class="co"># 12-17: reduced from 87.9% to 75%</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">slc_schoolgap</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">slc_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">school_gap_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">utah_schoolgap</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">utah_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">school_gap_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">wash_schoolgap</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">wash_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">school_gap_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Salt Lake County - School-Age Vaccination Reduction\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Salt Lake County - School-Age Vaccination Reduction</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">slc_schoolgap</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0       Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24 25to44 45to69</span></span>
<span><span class="co">#&gt;  10 2.286774   0.295        84801   3932 4310 24555  26456   4577  13271   7700</span></span>
<span><span class="co">#&gt;  11 2.515451   0.336        92219   4656 4946 26008  27314   5188  15142   8964</span></span>
<span><span class="co">#&gt;  12 2.744128   0.365        98601   5356 5521 27082  27913   5737  16829  10162</span></span>
<span><span class="co">#&gt;  13 2.972806   0.396       104136   6026 6036 27882  28337   6227  18339  11289</span></span>
<span><span class="co">#&gt;  14 3.201483   0.428       108965   6661 6494 28484  28639   6661  19682  12343</span></span>
<span><span class="co">#&gt;  15 3.430160   0.444       113196   7259 6900 28940  28857   7044  20872  13323</span></span>
<span><span class="co">#&gt;  16 3.658838   0.471       116916   7819 7259 29287  29015   7381  21923  14231</span></span>
<span><span class="co">#&gt;  17 3.887515   0.503       120195   8341 7574 29554  29131   7677  22848  15070</span></span>
<span><span class="co">#&gt;  18 4.116192   0.531       123094   8825 7852 29758  29215   7937  23662  15843</span></span>
<span><span class="co">#&gt;  70+</span></span>
<span><span class="co">#&gt;    0</span></span>
<span><span class="co">#&gt;    0</span></span>
<span><span class="co">#&gt;    0</span></span>
<span><span class="co">#&gt;    0</span></span>
<span><span class="co">#&gt;    0</span></span>
<span><span class="co">#&gt;    0</span></span>
<span><span class="co">#&gt;    0</span></span>
<span><span class="co">#&gt;    0</span></span>
<span><span class="co">#&gt;    0</span></span></code></pre></div>
<div class="section level3">
<h3 id="age-specific-impact">Age-Specific Impact<a class="anchor" aria-label="anchor" href="#age-specific-impact"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare infections by age group for Salt Lake County</span></span>
<span><span class="va">age_labels_short</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"1-4"</span>, <span class="st">"5-11"</span>, <span class="st">"12-17"</span>, <span class="st">"18-24"</span>, <span class="st">"25-44"</span>, <span class="st">"45-69"</span>, <span class="st">"70+"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get age-specific infections for R0=15</span></span>
<span><span class="va">slc_current_ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">slc_current</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">slc_schoolgap_ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">slc_schoolgap</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">age_comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">slc_current_ages</span>, <span class="va">slc_schoolgap_ages</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">age_comparison</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">age_labels_short</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">age_comparison</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Current"</span>, <span class="st">"School-Age Reduced"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">age_comparison</span>,</span>
<span>        beside <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"Salt Lake County: Impact of School-Age Vaccination Reduction\n(R0=15)"</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"Age Group"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"Infections"</span>,</span>
<span>        col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"darkseagreen"</span>, <span class="st">"coral"</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">age_comparison</span><span class="op">)</span>,</span>
<span>        args.legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"topright"</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span>,</span>
<span>        las <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="utah_census_comparison_files/figure-html/plot-age-impact-1.png" class="r-plt" width="1056"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Damon Toth, Willy Ray, Centers for Disease Control and Prevention’s Center for Forecasting and Outbreak Analytics.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
