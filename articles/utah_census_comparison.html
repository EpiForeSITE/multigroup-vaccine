<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Utah Census Data: Measles Outbreak Modeling Comparison • multigroup.vaccine</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Utah Census Data: Measles Outbreak Modeling Comparison">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">multigroup.vaccine</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/epiworld_comparison.html">Comparison to epiworld</a></li>
    <li><a class="dropdown-item" href="../articles/measles_agemodel.html">Measles Age-Structured Model</a></li>
    <li><a class="dropdown-item" href="../articles/measles_example.html">Measles Outbreak Example</a></li>
    <li><a class="dropdown-item" href="../articles/measles_example2.html">Measles Outbreak Example 2</a></li>
    <li><a class="dropdown-item" href="../articles/run_model_on_command_line.html">Run Model in the console</a></li>
    <li><a class="dropdown-item" href="../articles/sensitivity_analysis.html">Sensitivity Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/utah_census_comparison.html">Utah Census Data: Measles Outbreak Modeling Comparison</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Utah Census Data: Measles Outbreak Modeling Comparison</h1>
            
      

      <div class="d-none name"><code>utah_census_comparison.Rmd</code></div>
    </div>

    
    
<style type="text/css">
body {
  max-width: 1100px;
  margin: auto;
  padding: 1em;
}

table {
  width: 100%;
}
</style>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://epiforesite.github.io/multigroup-vaccine/">multigroup.vaccine</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiforecasts/socialmixr" class="external-link">socialmixr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use the included example data file to avoid download issues during package building</span></span>
<span><span class="va">census_csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCensusDataPath.html">getCensusDataPath</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette demonstrates how to use the
<code><a href="../reference/getCensusData.html">getCensusData()</a></code> function to retrieve real U.S. Census
Bureau population data for Utah counties and use it in measles outbreak
modeling. We’ll compare how different counties with varying demographic
structures respond to measles outbreaks under different vaccination
scenarios.</p>
<p><strong>Note:</strong> This vignette uses the included example census
data file to ensure it works offline and during package building.</p>
</div>
<div class="section level2">
<h2 id="measles-model-setup">Measles Model Setup<a class="anchor" aria-label="anchor" href="#measles-model-setup"></a>
</h2>
<p>For measles outbreak modeling, we’ll use the standard age groups from
the measles age-structured model:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Standard measles age groups: under 1, 1-4, 5-11, 12-17, 18-24, 25-44, 45-69, 70+</span></span>
<span><span class="va">agelims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">12</span>, <span class="fl">18</span>, <span class="fl">25</span>, <span class="fl">45</span>, <span class="fl">70</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Vaccine effectiveness by age group</span></span>
<span><span class="va">ageveff</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.93</span>, <span class="fl">0.93</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.97</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Initial infection in the 25-44 age group (working age adults)</span></span>
<span><span class="va">initgrp</span> <span class="op">&lt;-</span> <span class="fl">6</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-census-data-for-utah-counties">Getting Census Data for Utah Counties<a class="anchor" aria-label="anchor" href="#getting-census-data-for-utah-counties"></a>
</h2>
<p>Let’s retrieve population data for three diverse Utah counties:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">utah_fips</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getStateFIPS.html">getStateFIPS</a></span><span class="op">(</span><span class="st">"Utah"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get data for three counties with different characteristics</span></span>
<span><span class="va">counties</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Salt Lake County"</span>, <span class="st">"Utah County"</span>, <span class="st">"Washington County"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">county_data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">county</span> <span class="kw">in</span> <span class="va">counties</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCensusData.html">getCensusData</a></span><span class="op">(</span></span>
<span>    state_fips <span class="op">=</span> <span class="va">utah_fips</span>,</span>
<span>    county_name <span class="op">=</span> <span class="va">county</span>,</span>
<span>    year <span class="op">=</span> <span class="fl">2024</span>,</span>
<span>    age_groups <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>    csv_path <span class="op">=</span> <span class="va">census_csv</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">county_data_list</span><span class="op">[[</span><span class="va">county</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">data</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n"</span>, <span class="va">county</span>, <span class="st">":\n"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Total population:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">total_pop</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Age distribution:\n"</span><span class="op">)</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">age_labels</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">pct</span> <span class="op">&lt;-</span> <span class="fl">100</span> <span class="op">*</span> <span class="va">data</span><span class="op">$</span><span class="va">age_pops</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">/</span> <span class="va">data</span><span class="op">$</span><span class="va">total_pop</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"    %s: %s (%.1f%%)\n"</span>,</span>
<span>                <span class="va">data</span><span class="op">$</span><span class="va">age_labels</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">age_pops</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>,</span>
<span>                <span class="va">pct</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv</span></span>
<span><span class="co">#&gt; Aggregating ages 0 to 0: sum = 14732</span></span>
<span><span class="co">#&gt; Aggregating ages 1 to 4: sum = 57711</span></span>
<span><span class="co">#&gt; Aggregating ages 5 to 11: sum = 111884</span></span>
<span><span class="co">#&gt; Aggregating ages 12 to 17: sum = 108100</span></span>
<span><span class="co">#&gt; Aggregating ages 18 to 24: sum = 125472</span></span>
<span><span class="co">#&gt; Aggregating ages 25 to 44: sum = 379015</span></span>
<span><span class="co">#&gt; Aggregating ages 45 to 69: sum = 318909</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Salt Lake County:</span></span>
<span><span class="co">#&gt;   Total population: 1,216,274 </span></span>
<span><span class="co">#&gt;   Age distribution:</span></span>
<span><span class="co">#&gt;     under1: 14,732 (1.2%)</span></span>
<span><span class="co">#&gt;     1to4: 57,711 (4.7%)</span></span>
<span><span class="co">#&gt;     5to11: 111,884 (9.2%)</span></span>
<span><span class="co">#&gt;     12to17: 108,100 (8.9%)</span></span>
<span><span class="co">#&gt;     18to24: 125,472 (10.3%)</span></span>
<span><span class="co">#&gt;     25to44: 379,015 (31.2%)</span></span>
<span><span class="co">#&gt;     45to69: 318,909 (26.2%)</span></span>
<span><span class="co">#&gt;     70plus: 100,451 (8.3%)</span></span>
<span><span class="co">#&gt; Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv</span></span>
<span><span class="co">#&gt; Aggregating ages 0 to 0: sum = 12053</span></span>
<span><span class="co">#&gt; Aggregating ages 1 to 4: sum = 48596</span></span>
<span><span class="co">#&gt; Aggregating ages 5 to 11: sum = 88402</span></span>
<span><span class="co">#&gt; Aggregating ages 12 to 17: sum = 78366</span></span>
<span><span class="co">#&gt; Aggregating ages 18 to 24: sum = 125580</span></span>
<span><span class="co">#&gt; Aggregating ages 25 to 44: sum = 210551</span></span>
<span><span class="co">#&gt; Aggregating ages 45 to 69: sum = 143596</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Utah County:</span></span>
<span><span class="co">#&gt;   Total population: 747,234 </span></span>
<span><span class="co">#&gt;   Age distribution:</span></span>
<span><span class="co">#&gt;     under1: 12,053 (1.6%)</span></span>
<span><span class="co">#&gt;     1to4: 48,596 (6.5%)</span></span>
<span><span class="co">#&gt;     5to11: 88,402 (11.8%)</span></span>
<span><span class="co">#&gt;     12to17: 78,366 (10.5%)</span></span>
<span><span class="co">#&gt;     18to24: 125,580 (16.8%)</span></span>
<span><span class="co">#&gt;     25to44: 210,551 (28.2%)</span></span>
<span><span class="co">#&gt;     45to69: 143,596 (19.2%)</span></span>
<span><span class="co">#&gt;     70plus: 40,090 (5.4%)</span></span>
<span><span class="co">#&gt; Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv</span></span>
<span><span class="co">#&gt; Aggregating ages 0 to 0: sum = 2263</span></span>
<span><span class="co">#&gt; Aggregating ages 1 to 4: sum = 9687</span></span>
<span><span class="co">#&gt; Aggregating ages 5 to 11: sum = 18808</span></span>
<span><span class="co">#&gt; Aggregating ages 12 to 17: sum = 18446</span></span>
<span><span class="co">#&gt; Aggregating ages 18 to 24: sum = 19948</span></span>
<span><span class="co">#&gt; Aggregating ages 25 to 44: sum = 49399</span></span>
<span><span class="co">#&gt; Aggregating ages 45 to 69: sum = 55271</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Washington County:</span></span>
<span><span class="co">#&gt;   Total population: 207,943 </span></span>
<span><span class="co">#&gt;   Age distribution:</span></span>
<span><span class="co">#&gt;     under1: 2,263 (1.1%)</span></span>
<span><span class="co">#&gt;     1to4: 9,687 (4.7%)</span></span>
<span><span class="co">#&gt;     5to11: 18,808 (9.0%)</span></span>
<span><span class="co">#&gt;     12to17: 18,446 (8.9%)</span></span>
<span><span class="co">#&gt;     18to24: 19,948 (9.6%)</span></span>
<span><span class="co">#&gt;     25to44: 49,399 (23.8%)</span></span>
<span><span class="co">#&gt;     45to69: 55,271 (26.6%)</span></span>
<span><span class="co">#&gt;     70plus: 34,121 (16.4%)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scenario-1-current-vaccination-coverage">Scenario 1: Current Vaccination Coverage<a class="anchor" aria-label="anchor" href="#scenario-1-current-vaccination-coverage"></a>
</h2>
<p>Let’s model outbreaks under current estimated vaccination coverage
levels in Utah.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Based on school data and estimates</span></span>
<span><span class="va">current_coverage</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.89</span>, <span class="fl">0.949</span>, <span class="fl">0.950</span>, <span class="fl">0.95</span>, <span class="fl">0.95</span>, <span class="fl">0.95</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="salt-lake-county---current-coverage">Salt Lake County - Current Coverage<a class="anchor" aria-label="anchor" href="#salt-lake-county---current-coverage"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">slc_data</span> <span class="op">&lt;-</span> <span class="va">county_data_list</span><span class="op">[[</span><span class="st">"Salt Lake County"</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">slc_current</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">slc_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">current_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Salt Lake County - Current Vaccination Coverage\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Salt Lake County - Current Vaccination Coverage</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">slc_current</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0  R0local        Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24</span></span>
<span><span class="co">#&gt;  10 11.42435 0.9402893   0.000            0      0    0     0      0      0</span></span>
<span><span class="co">#&gt;  11 12.56679 1.0343182   0.075         4922    400  448   599    846    508</span></span>
<span><span class="co">#&gt;  12 13.70922 1.1283471   0.093        17506   1530 1654  2070   2638   1812</span></span>
<span><span class="co">#&gt;  13 14.85166 1.2223761   0.146        28583   2644 2760  3275   3908   2954</span></span>
<span><span class="co">#&gt;  14 15.99409 1.3164050   0.239        38133   3694 3727  4241   4838   3926</span></span>
<span><span class="co">#&gt;  15 17.13653 1.4104339   0.272        46321   4661 4559  5015   5539   4748</span></span>
<span><span class="co">#&gt;  16 18.27896 1.5044628   0.287        53345   5544 5269  5639   6078   5440</span></span>
<span><span class="co">#&gt;  17 19.42140 1.5984918   0.347        59386   6345 5875  6146   6501   6026</span></span>
<span><span class="co">#&gt;  18 20.56383 1.6925207   0.380        64604   7069 6392  6560   6837   6522</span></span>
<span><span class="co">#&gt;  25to44 45to69 70+</span></span>
<span><span class="co">#&gt;       0      0   0</span></span>
<span><span class="co">#&gt;    1375    746   0</span></span>
<span><span class="co">#&gt;    5014   2788   0</span></span>
<span><span class="co">#&gt;    8306   4736   0</span></span>
<span><span class="co">#&gt;   11175   6530   0</span></span>
<span><span class="co">#&gt;   13640   8158   0</span></span>
<span><span class="co">#&gt;   15747   9627   0</span></span>
<span><span class="co">#&gt;   17546  10948   0</span></span>
<span><span class="co">#&gt;   19086  12137   0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="utah-county---current-coverage">Utah County - Current Coverage<a class="anchor" aria-label="anchor" href="#utah-county---current-coverage"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">utah_data</span> <span class="op">&lt;-</span> <span class="va">county_data_list</span><span class="op">[[</span><span class="st">"Utah County"</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">utah_current</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">utah_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">current_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nUtah County - Current Vaccination Coverage\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Utah County - Current Vaccination Coverage</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">utah_current</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0  R0local       Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24</span></span>
<span><span class="co">#&gt;  10 13.36528 1.106482   0.101         9582    983 1126  1361   1603   1614</span></span>
<span><span class="co">#&gt;  11 14.70180 1.217131   0.129        18227   2025 2219  2503   2724   3042</span></span>
<span><span class="co">#&gt;  12 16.03833 1.327779   0.206        25527   3016 3168  3391   3507   4210</span></span>
<span><span class="co">#&gt;  13 17.37486 1.438427   0.251        31653   3929 3970  4080   4075   5157</span></span>
<span><span class="co">#&gt;  14 18.71139 1.549075   0.276        36800   4754 4640  4618   4499   5924</span></span>
<span><span class="co">#&gt;  15 20.04792 1.659724   0.348        41143   5495 5198  5043   4821   6549</span></span>
<span><span class="co">#&gt;  16 21.38444 1.770372   0.355        44826   6156 5663  5381   5071   7060</span></span>
<span><span class="co">#&gt;  17 22.72097 1.881020   0.394        47967   6745 6051  5654   5267   7482</span></span>
<span><span class="co">#&gt;  18 24.05750 1.991668   0.406        50660   7269 6378  5875   5423   7831</span></span>
<span><span class="co">#&gt;  25to44 45to69 70+</span></span>
<span><span class="co">#&gt;    2025    870   0</span></span>
<span><span class="co">#&gt;    3967   1747   0</span></span>
<span><span class="co">#&gt;    5671   2563   0</span></span>
<span><span class="co">#&gt;    7136   3306   0</span></span>
<span><span class="co">#&gt;    8386   3978   0</span></span>
<span><span class="co">#&gt;    9452   4585   0</span></span>
<span><span class="co">#&gt;   10362   5133   0</span></span>
<span><span class="co">#&gt;   11140   5628   0</span></span>
<span><span class="co">#&gt;   11808   6075   0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="washington-county---current-coverage">Washington County - Current Coverage<a class="anchor" aria-label="anchor" href="#washington-county---current-coverage"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wash_data</span> <span class="op">&lt;-</span> <span class="va">county_data_list</span><span class="op">[[</span><span class="st">"Washington County"</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">wash_current</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">wash_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">current_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nWashington County - Current Vaccination Coverage\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Washington County - Current Vaccination Coverage</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">wash_current</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0  R0local        Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24</span></span>
<span><span class="co">#&gt;  10 10.86329 0.8823416   0.000            0      0    0     0      0      0</span></span>
<span><span class="co">#&gt;  11 11.94962 0.9705758   0.000            0      0    0     0      0      0</span></span>
<span><span class="co">#&gt;  12 13.03595 1.0588100   0.079         1130     86  109   153    231    117</span></span>
<span><span class="co">#&gt;  13 14.12227 1.1470441   0.112         2737    225  276   363    493    285</span></span>
<span><span class="co">#&gt;  14 15.20860 1.2352783   0.140         4217    369  437   545    687    441</span></span>
<span><span class="co">#&gt;  15 16.29493 1.3235125   0.204         5541    509  585   696    834    580</span></span>
<span><span class="co">#&gt;  16 17.38126 1.4117466   0.255         6711    642  716   820    946    701</span></span>
<span><span class="co">#&gt;  17 18.46759 1.4999808   0.268         7741    767  831   922   1035    806</span></span>
<span><span class="co">#&gt;  18 19.55392 1.5882150   0.322         8647    882  931  1006   1104    898</span></span>
<span><span class="co">#&gt;  25to44 45to69 70+</span></span>
<span><span class="co">#&gt;       0      0   0</span></span>
<span><span class="co">#&gt;       0      0   0</span></span>
<span><span class="co">#&gt;     250    184   0</span></span>
<span><span class="co">#&gt;     625    469   0</span></span>
<span><span class="co">#&gt;     984    754   0</span></span>
<span><span class="co">#&gt;    1312   1026   0</span></span>
<span><span class="co">#&gt;    1605   1281   0</span></span>
<span><span class="co">#&gt;    1865   1516   0</span></span>
<span><span class="co">#&gt;    2092   1733   0</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visualization-comparing-counties">Visualization: Comparing Counties<a class="anchor" aria-label="anchor" href="#visualization-comparing-counties"></a>
</h2>
<p>Let’s visualize the outbreak potential across counties:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract R0=15 results for comparison</span></span>
<span><span class="va">r0_15_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">slc_current</span><span class="op">[</span>, <span class="st">"R0"</span><span class="op">]</span> <span class="op">==</span> <span class="fl">15</span><span class="op">)</span></span>
<span></span>
<span><span class="va">counties_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Salt Lake"</span>, <span class="st">"Utah"</span>, <span class="st">"Washington"</span><span class="op">)</span></span>
<span><span class="va">escape_totals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="va">slc_current</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span>,</span>
<span>  <span class="va">utah_current</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span>,</span>
<span>  <span class="va">wash_current</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span><span class="va">total_pops</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="va">slc_data</span><span class="op">$</span><span class="va">total_pop</span>,</span>
<span>  <span class="va">utah_data</span><span class="op">$</span><span class="va">total_pop</span>,</span>
<span>  <span class="va">wash_data</span><span class="op">$</span><span class="va">total_pop</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">escape_pcts</span> <span class="op">&lt;-</span> <span class="fl">100</span> <span class="op">*</span> <span class="va">escape_totals</span> <span class="op">/</span> <span class="va">total_pops</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Absolute numbers</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">escape_totals</span>,</span>
<span>        names.arg <span class="op">=</span> <span class="va">counties_names</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"Potential Outbreak Size (R0=15)\nCurrent Coverage"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"Total Infections"</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"coral"</span>,</span>
<span>        las <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Percentages</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">escape_pcts</span>,</span>
<span>        names.arg <span class="op">=</span> <span class="va">counties_names</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"% of Population (R0=15)\nCurrent Coverage"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"% of Population Infected"</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"steelblue"</span>,</span>
<span>        las <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="utah_census_comparison_files/figure-html/plot-comparison-current-1.png" class="r-plt" width="1056"></p>
</div>
<div class="section level2">
<h2 id="scenario-2-reduced-vaccination-coverage">Scenario 2: Reduced Vaccination Coverage<a class="anchor" aria-label="anchor" href="#scenario-2-reduced-vaccination-coverage"></a>
</h2>
<p>What happens if vaccination coverage drops by 10% across all age
groups?</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reduced_coverage</span> <span class="op">&lt;-</span> <span class="va">current_coverage</span> <span class="op">*</span> <span class="fl">0.9</span>  <span class="co"># 10% reduction</span></span>
<span><span class="va">reduced_coverage</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span>  <span class="co"># Keep under-1 at 0</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">slc_reduced</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">slc_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">reduced_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">utah_reduced</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">utah_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">reduced_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">wash_reduced</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">wash_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">reduced_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Salt Lake County - Reduced Coverage (-10%)\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Salt Lake County - Reduced Coverage (-10%)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">slc_reduced</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0  R0local       Rv pEscape escapeInfTot under1  1to4 5to11 12to17 18to24</span></span>
<span><span class="co">#&gt;  10 11.42435 1.979104   0.455       149540   7095 10043 15806  16378  16556</span></span>
<span><span class="co">#&gt;  11 12.56679 2.177015   0.487       161833   8031 10966 16683  16985  17699</span></span>
<span><span class="co">#&gt;  12 13.70922 2.374925   0.535       171440   8836 11687 17311  17399  18545</span></span>
<span><span class="co">#&gt;  13 14.85166 2.572836   0.569       179053   9532 12255 17768  17688  19180</span></span>
<span><span class="co">#&gt;  14 15.99409 2.770746   0.608       185157  10135 12706 18105  17892  19662</span></span>
<span><span class="co">#&gt;  15 17.13653 2.968657   0.634       190105  10660 13067 18357  18038  20032</span></span>
<span><span class="co">#&gt;  16 18.27896 3.166567   0.663       194153  11118 13358 18547  18144  20319</span></span>
<span><span class="co">#&gt;  17 19.42140 3.364477   0.682       197493  11519 13594 18691  18222  20542</span></span>
<span><span class="co">#&gt;  18 20.56383 3.562388   0.689       200269  11871 13787 18801  18279  20717</span></span>
<span><span class="co">#&gt;  25to44 45to69  70+</span></span>
<span><span class="co">#&gt;   47891  32417 3355</span></span>
<span><span class="co">#&gt;   51657  35938 3873</span></span>
<span><span class="co">#&gt;   54497  38823 4342</span></span>
<span><span class="co">#&gt;   56661  41202 4767</span></span>
<span><span class="co">#&gt;   58327  43176 5154</span></span>
<span><span class="co">#&gt;   59620  44824 5507</span></span>
<span><span class="co">#&gt;   60632  46206 5829</span></span>
<span><span class="co">#&gt;   61428  47372 6125</span></span>
<span><span class="co">#&gt;   62059  48358 6397</span></span></code></pre></div>
<div class="section level3">
<h3 id="impact-of-reduced-coverage">Impact of Reduced Coverage<a class="anchor" aria-label="anchor" href="#impact-of-reduced-coverage"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare current vs reduced for R0=15</span></span>
<span><span class="va">escape_reduced</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="va">slc_reduced</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span>,</span>
<span>  <span class="va">utah_reduced</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span>,</span>
<span>  <span class="va">wash_reduced</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="st">"escapeInfTot"</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">escape_totals</span>, <span class="va">escape_reduced</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">comparison_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">counties_names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">comparison_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Current"</span>, <span class="st">"Reduced -10%"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">comparison_matrix</span>,</span>
<span>        beside <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"Impact of 10% Reduction in Vaccination Coverage\n(R0=15)"</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"County"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"Total Infections"</span>,</span>
<span>        col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"steelblue"</span>, <span class="st">"coral"</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">comparison_matrix</span><span class="op">)</span>,</span>
<span>        args.legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"topleft"</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="utah_census_comparison_files/figure-html/plot-coverage-impact-1.png" class="r-plt" width="1056"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Calculate percent increase</span></span>
<span><span class="va">pct_increase</span> <span class="op">&lt;-</span> <span class="fl">100</span> <span class="op">*</span> <span class="op">(</span><span class="va">escape_reduced</span> <span class="op">-</span> <span class="va">escape_totals</span><span class="op">)</span> <span class="op">/</span> <span class="va">escape_totals</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nPercent increase in outbreak size with 10% coverage reduction:\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percent increase in outbreak size with 10% coverage reduction:</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">counties_names</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"  %s: +%.1f%%\n"</span>, <span class="va">counties_names</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="va">pct_increase</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt;   Salt Lake: +310.4%</span></span>
<span><span class="co">#&gt;   Utah: +204.6%</span></span>
<span><span class="co">#&gt;   Washington: +433.7%</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="scenario-3-age-specific-vaccination-gaps">Scenario 3: Age-Specific Vaccination Gaps<a class="anchor" aria-label="anchor" href="#scenario-3-age-specific-vaccination-gaps"></a>
</h2>
<p>What if vaccination coverage is particularly low in school-age
children (5-17)?</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">school_gap_coverage</span> <span class="op">&lt;-</span> <span class="va">current_coverage</span></span>
<span><span class="va">school_gap_coverage</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.75</span>  <span class="co"># 5-11: reduced from 85.2% to 75%</span></span>
<span><span class="va">school_gap_coverage</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.75</span>  <span class="co"># 12-17: reduced from 87.9% to 75%</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">slc_schoolgap</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">slc_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">school_gap_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">utah_schoolgap</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">utah_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">school_gap_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">wash_schoolgap</span> <span class="op">&lt;-</span> <span class="fu">multigroup.vaccine</span><span class="fu">:::</span><span class="fu">getOutputTable</span><span class="op">(</span></span>
<span>  agelims <span class="op">=</span> <span class="va">agelims</span>,</span>
<span>  agepops <span class="op">=</span> <span class="va">wash_data</span><span class="op">$</span><span class="va">age_pops</span>,</span>
<span>  agecovr <span class="op">=</span> <span class="va">school_gap_coverage</span>,</span>
<span>  ageveff <span class="op">=</span> <span class="va">ageveff</span>,</span>
<span>  initgrp <span class="op">=</span> <span class="va">initgrp</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Salt Lake County - School-Age Vaccination Reduction\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Salt Lake County - School-Age Vaccination Reduction</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">slc_schoolgap</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  R0  R0local       Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24</span></span>
<span><span class="co">#&gt;  10 11.42435 2.612491   0.344        95041   4956 5198 26503  27594   5429</span></span>
<span><span class="co">#&gt;  11 12.56679 2.873740   0.371       101832   5740 5820 27564  28171   6022</span></span>
<span><span class="co">#&gt;  12 13.70922 3.134989   0.411       107627   6480 6367 28326  28561   6540</span></span>
<span><span class="co">#&gt;  13 14.85166 3.396238   0.452       112603   7173 6843 28880  28829   6990</span></span>
<span><span class="co">#&gt;  14 15.99409 3.657487   0.487       116895   7816 7257 29286  29015   7379</span></span>
<span><span class="co">#&gt;  15 17.13653 3.918736   0.482       120612   8409 7614 29585  29144   7715</span></span>
<span><span class="co">#&gt;  16 18.27896 4.179985   0.569       123841   8954 7923 29807  29235   8003</span></span>
<span><span class="co">#&gt;  17 19.42140 4.441234   0.568       126656   9453 8190 29973  29299   8252</span></span>
<span><span class="co">#&gt;  18 20.56383 4.702483   0.600       129117   9909 8420 30097  29344   8465</span></span>
<span><span class="co">#&gt;  25to44 45to69 70+</span></span>
<span><span class="co">#&gt;   15880   9481   0</span></span>
<span><span class="co">#&gt;   17706  10810   0</span></span>
<span><span class="co">#&gt;   19308  12044   0</span></span>
<span><span class="co">#&gt;   20705  13182   0</span></span>
<span><span class="co">#&gt;   21917  14226   0</span></span>
<span><span class="co">#&gt;   22966  15179   0</span></span>
<span><span class="co">#&gt;   23871  16048   0</span></span>
<span><span class="co">#&gt;   24653  16838   0</span></span>
<span><span class="co">#&gt;   25326  17556   0</span></span></code></pre></div>
<div class="section level3">
<h3 id="age-specific-impact">Age-Specific Impact<a class="anchor" aria-label="anchor" href="#age-specific-impact"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare infections by age group for Salt Lake County</span></span>
<span><span class="va">age_labels_short</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"1-4"</span>, <span class="st">"5-11"</span>, <span class="st">"12-17"</span>, <span class="st">"18-24"</span>, <span class="st">"25-44"</span>, <span class="st">"45-69"</span>, <span class="st">"70+"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get age-specific infections for R0=15</span></span>
<span><span class="va">slc_current_ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">slc_current</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">slc_schoolgap_ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">slc_schoolgap</span><span class="op">[</span><span class="va">r0_15_idx</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">age_comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">slc_current_ages</span>, <span class="va">slc_schoolgap_ages</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">age_comparison</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">age_labels_short</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">age_comparison</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Current"</span>, <span class="st">"School-Age Reduced"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">age_comparison</span>,</span>
<span>        beside <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"Salt Lake County: Impact of School-Age Vaccination Reduction\n(R0=15)"</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"Age Group"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"Infections"</span>,</span>
<span>        col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"darkseagreen"</span>, <span class="st">"coral"</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">age_comparison</span><span class="op">)</span>,</span>
<span>        args.legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"topright"</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span>,</span>
<span>        las <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="utah_census_comparison_files/figure-html/plot-age-impact-1.png" class="r-plt" width="1056"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Damon Toth, Willy Ray, Centers for Disease Control and Prevention’s Center for Forecasting and Outbreak Analytics.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
