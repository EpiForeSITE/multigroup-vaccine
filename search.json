[{"path":"https://epiforesite.github.io/multigroup-vaccine/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 multigroup.vaccine authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/combined_cities.html","id":"measles-model-setup","dir":"Articles","previous_headings":"","what":"Measles Model Setup","title":"Combined City Population: Measles Outbreak Modeling","text":"measles outbreak modeling combined population Hildale, UT Colorado City, AZ, ’ll use granular age groups separate school levels: pre-school (0-4), elementary (5-12), middle school (13-14), high school (15-18), adult age bands.","code":"# Age groups: 0-4, 5-11 (elementary K-6), 12-13 (middle 7-8), 14-17 (high 9-12), 18-24, 25-34, 35-44, 45-54, 55-64, 65+ agelims <- c(0, 5, 12, 14, 18, 25, 35, 45, 55, 65)  # Vaccine effectiveness by age group ageveff <- rep(0.97, length(agelims))  # All groups have high effectiveness ageveff[1] <- 0.93  # Under 5 may have slightly lower effectiveness  # Initial infection in the 25-29 age group (working age adults) # This corresponds to age group 25-34 (index 6) initgrp <- 6"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/combined_cities.html","id":"getting-combined-city-population-data","dir":"Articles","previous_headings":"","what":"Getting Combined City Population Data","title":"Combined City Population: Measles Outbreak Modeling","text":"’ll combine populations Hildale, UT Colorado City, AZ disaggregating ACS 5-year age groups single-year ages, summing across cities, finally aggregating school age groups.","code":"# Get single-year age data for both cities cities <- c(\"Hildale city, Utah\", \"Colorado City town, Arizona\") city_paths <- c(hildale_path, colorado_city_path)  single_year_data <- list()  for (i in seq_along(cities)) {   data <- getCityData(     city_name = cities[i],     csv_path = city_paths[i],     age_groups = NULL  # Single-year ages   )   single_year_data[[cities[i]]] <- data }  # Combine populations by summing across cities for each age combined_ages <- single_year_data[[1]]$age_pops * 0  # Initialize with zeros age_labels <- single_year_data[[1]]$age_labels total_pop <- 0  for (city_data in single_year_data) {   combined_ages <- combined_ages + city_data$age_pops   total_pop <- total_pop + city_data$total_pop }  # Now aggregate into school age groups ages_numeric <- 0:85  # Ages 0 through 85 grouped <- aggregateByAgeGroups(ages_numeric, combined_ages, agelims) #> Aggregating ages 0 to 4: sum = 182 #> Aggregating ages 5 to 11: sum = 569.4 #> Aggregating ages 12 to 13: sum = 246.4 #> Aggregating ages 14 to 17: sum = 504.2 #> Aggregating ages 18 to 24: sum = 677 #> Aggregating ages 25 to 34: sum = 543 #> Aggregating ages 35 to 44: sum = 341 #> Aggregating ages 45 to 54: sum = 468 #> Aggregating ages 55 to 64: sum = 263  combined_data <- list(   city = \"Combined Hildale, UT and Colorado City, AZ\",   year = 2023,   total_pop = total_pop,   age_pops = grouped$pops,   age_labels = grouped$labels,   data = NULL  # No single data frame for combined )  cat(\"Combined Population Data:\\n\") #> Combined Population Data: cat(\"Total population:\", format(combined_data$total_pop, big.mark = \",\"), \"\\n\") #> Total population: 3,899 cat(\"Age distribution:\\n\") #> Age distribution: for (i in seq_along(combined_data$age_labels)) {   pct <- 100 * combined_data$age_pops[i] / combined_data$total_pop   cat(sprintf(\"  %s: %s (%.1f%%)\\n\",               combined_data$age_labels[i],               format(combined_data$age_pops[i], big.mark = \",\"),               pct)) } #>   0to4: 182 (4.7%) #>   5to11: 569.4 (14.6%) #>   12to13: 246.4 (6.3%) #>   14to17: 504.2 (12.9%) #>   18to24: 677 (17.4%) #>   25to34: 543 (13.9%) #>   35to44: 341 (8.7%) #>   45to54: 468 (12.0%) #>   55to64: 263 (6.7%) #>   65plus: 105 (2.7%)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/combined_cities.html","id":"scenario-1-current-vaccination-coverage-95-adult-rate","dir":"Articles","previous_headings":"","what":"Scenario 1: Current Vaccination Coverage (95% adult rate)","title":"Combined City Population: Measles Outbreak Modeling","text":"Let’s model outbreaks estimated vaccination coverage levels combined community.","code":"# Vaccination coverage rates # Assume 95% coverage for adults (19+), lower for children vaxcov <- c(   0.44,  # under 5   0.45,  # 5-11 elementary   0.50,  # 12-13 middle   0.45,  # 14-17 high   0.95,  # 18-24   0.95,  # 25-34   0.95,  # 35-44   0.95,  # 45-54   0.95,  # 55-64   0.95   # 65+ )  current_coverage_95 <- vaxcov  # For compatibility with interpolation code # Run the measles model using getOutputTable results1 <- getOutputTable(   agelims = agelims,   agepops = combined_data$age_pops,   agecovr = vaxcov,   ageveff = ageveff,   initgrp = initgrp )  cat(\"Combined Cities - Current Vaccination Coverage\\n\") #> Combined Cities - Current Vaccination Coverage print(as.data.frame(results1), row.names = FALSE) #>  R0  R0local       Rv pEscape escapeInfTot under5 5to11 12to13 14to17 18to24 #>  10 20.61422 10.82586   0.640          988     97   320    126    284     49 #>  11 22.67564 11.90844   0.646          996     99   320    126    284     50 #>  12 24.73706 12.99103   0.681         1001    101   320    126    284     51 #>  13 26.79848 14.07361   0.682         1006    103   320    126    284     51 #>  14 28.85990 15.15620   0.743         1010    104   320    126    284     52 #>  15 30.92132 16.23879   0.715         1013    105   320    126    284     52 #>  16 32.98274 17.32137   0.741         1015    106   320    126    284     52 #>  17 35.04417 18.40396   0.749         1017    106   320    126    284     52 #>  18 37.10559 19.48654   0.764         1019    107   320    126    284     53 #>  25to34 35to44 45to54 55to64 65+ #>      37     25     31     14   4 #>      38     25     32     15   4 #>      39     26     33     16   4 #>      40     26     34     16   5 #>      41     26     35     17   5 #>      41     26     35     17   5 #>      42     27     35     18   5 #>      42     27     36     18   5 #>      42     27     36     18   6  # Extract results for R0=15 (typical measles R0) r0_15_idx <- which(results1[, \"R0\"] == 15) final_size1 <- results1[r0_15_idx, \"escapeInfTot\"] percent_infected1 <- 100 * final_size1 / combined_data$total_pop  cat(\"Final outbreak size (R0=15):\", format(final_size1, big.mark = \",\"), \"\\n\") #> Final outbreak size (R0=15): 1,013 cat(\"Overall % infected:\", sprintf(\"%.2f%%\", percent_infected1), \"\\n\") #> Overall % infected: 25.98%"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/combined_cities.html","id":"scenario-2-linear-interpolation-of-adult-vaccination-rates","dir":"Articles","previous_headings":"","what":"Scenario 2: Linear Interpolation of Adult Vaccination Rates","title":"Combined City Population: Measles Outbreak Modeling","text":"Now let’s examine impact using linear interpolation adult vaccination rates (similar individual city analysis).","code":"# Linear interpolation of adult vaccination rates # Interpolate between 45% (end of high school) and 95% (older adults) adult_ages <- c(15, 20, 25, 30, 35, 40, 45, 50) adult_rates <- seq(0.45, 0.95, length.out = length(adult_ages))  vaxcov2 <- current_coverage_95  # Start with current coverage  for (i in seq_along(adult_ages)) {   age <- adult_ages[i]   rate <- adult_rates[i]   age_idx <- which(agelims[-length(agelims)] == age)   if (length(age_idx) > 0) {     vaxcov2[age_idx] <- rate   } }  cat(\"Scenario 2: Linear interpolated adult vaccination coverage\\n\") #> Scenario 2: Linear interpolated adult vaccination coverage cat(\"Vaccination coverage rates:\", paste0(100 * vaxcov2, \"%\", collapse = \", \"), \"\\n\") #> Vaccination coverage rates: 44%, 45%, 50%, 45%, 95%, 59.2857142857143%, 73.5714285714286%, 87.8571428571429%, 95%, 95% results2 <- getOutputTable(   agelims = agelims,   agepops = combined_data$age_pops,   agecovr = vaxcov2,   ageveff = ageveff,   initgrp = initgrp )  cat(\"Combined Cities - Linear Interpolated Adult Vaccination Coverage\\n\") #> Combined Cities - Linear Interpolated Adult Vaccination Coverage print(as.data.frame(results2), row.names = FALSE) #>  R0  R0local       Rv pEscape escapeInfTot under5 5to11 12to13 14to17 18to24 #>  10 20.61422 10.88977   0.720         1289    102   320    126    284     51 #>  11 22.67564 11.97875   0.756         1297    104   320    126    284     52 #>  12 24.73706 13.06773   0.784         1302    105   320    126    284     52 #>  13 26.79848 14.15671   0.791         1306    106   320    126    284     52 #>  14 28.85990 15.24568   0.803         1309    106   320    126    284     53 #>  15 30.92132 16.33466   0.820         1311    107   320    126    284     53 #>  16 32.98274 17.42364   0.850         1313    107   320    126    284     53 #>  17 35.04417 18.51262   0.832         1314    107   320    126    284     53 #>  18 37.10559 19.60159   0.854         1315    108   320    126    284     53 #>  25to34 35to44 45to54 55to64 65+ #>     223     95     65     17   5 #>     225     96     66     18   5 #>     227     97     67     18   5 #>     228     97     67     19   6 #>     229     97     68     19   6 #>     230     98     68     19   6 #>     230     98     68     20   6 #>     230     98     68     20   6 #>     231     98     69     20   7  final_size2 <- results2[r0_15_idx, \"escapeInfTot\"] percent_infected2 <- 100 * final_size2 / combined_data$total_pop  cat(\"Final outbreak size (R0=15):\", format(final_size2, big.mark = \",\"), \"\\n\") #> Final outbreak size (R0=15): 1,311 cat(\"Overall % infected:\", sprintf(\"%.2f%%\", percent_infected2), \"\\n\") #> Overall % infected: 33.62%"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/combined_cities.html","id":"scenario-comparison","dir":"Articles","previous_headings":"","what":"Scenario Comparison","title":"Combined City Population: Measles Outbreak Modeling","text":"Let’s compare two scenarios side side.","code":"# Create data frame for ggplot comparison_data <- data.frame(   Scenario = factor(c(\"95% Adult Coverage\", \"Linear Interpolated Adult Coverage\"),                     levels = c(\"95% Adult Coverage\", \"Linear Interpolated Adult Coverage\")),   Percent_Infected = c(percent_infected1, percent_infected2),   Final_Size = c(final_size1, final_size2),   Color = c(\"#f7b360\", \"#9dd7da\") )  ggplot(comparison_data, aes(x = Scenario, y = Percent_Infected, fill = Color)) +   geom_bar(stat = \"identity\", width = 0.7) +   geom_text(aes(label = sprintf(\"%.1f%%\", Percent_Infected)), vjust = -0.5, size = 4) +   scale_fill_identity() +   labs(title = \"Combined Cities: % Infected by Vaccination Scenario (R0=15)\",        x = \"Vaccination Scenario\",        y = \"% Infected\") +   theme_minimal() +   theme(axis.text.x = element_text(angle = 45, hjust = 1),         plot.title = element_text(hjust = 0.5)) +   ylim(0, max(comparison_data$Percent_Infected) * 1.1)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"measles-model-setup","dir":"Articles","previous_headings":"","what":"Measles Model Setup","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"measles outbreak modeling, ’ll use age groups based available ACS data:","code":"# Age groups based on ACS 5-year intervals, adjusted to avoid zero populations agelims <- c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70)  # Vaccine effectiveness by age group (adjusted for these age groups) # Using approximate values for these broader age categories ageveff <- rep(0.97, length(agelims))  # Most age groups have high effectiveness ageveff[1] <- 0.93  # Under 5 may have slightly lower effectiveness  # Initial infection in the 25-29 age group (working age adults) # This corresponds to age group 25-29 (index 6) initgrp <- 6"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"getting-city-population-data","dir":"Articles","previous_headings":"","what":"Getting City Population Data","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"getCityData function provides flexible age grouping options: Default 5-year groups: Matches ACS data structure Single-year ages: Set age_groups = NULL disaggregate 5-year groups uniformly Custom age groups: Specify age limits vector Let’s demonstrate options Hildale, UT data: Now let’s retrieve population data cities using custom age groups measles modeling:","code":"# Example 1: Default 5-year age groups (0-4, 5-9, 10-14, ...) hildale_5yr <- getCityData(   city_name = \"Hildale city, Utah\",   csv_path = hildale_path ) #> Aggregating ages 0 to 4: sum = 57 #> Aggregating ages 5 to 9: sum = 110 #> Aggregating ages 10 to 14: sum = 181 #> Aggregating ages 15 to 19: sum = 157 #> Aggregating ages 20 to 24: sum = 134 #> Aggregating ages 25 to 29: sum = 128 #> Aggregating ages 30 to 34: sum = 55 #> Aggregating ages 35 to 39: sum = 110 #> Aggregating ages 40 to 44: sum = 59 #> Aggregating ages 45 to 49: sum = 105 #> Aggregating ages 50 to 54: sum = 64 #> Aggregating ages 55 to 59: sum = 32 #> Aggregating ages 60 to 64: sum = 29 #> Aggregating ages 65 to 69: sum = 35 #> Aggregating ages 70 to 74: sum = 0 #> Aggregating ages 75 to 79: sum = 27 #> Aggregating ages 80 to 84: sum = 18  cat(\"Example 1: Default 5-year age groups\\n\") #> Example 1: Default 5-year age groups cat(\"Total population:\", format(hildale_5yr$total_pop, big.mark = \",\"), \"\\n\") #> Total population: 1,301 cat(\"Number of age groups:\", length(hildale_5yr$age_pops), \"\\n\") #> Number of age groups: 18 cat(\"First few groups:\", paste(head(hildale_5yr$age_labels, 3), collapse = \", \"), \"\\n\\n\") #> First few groups: 0to4, 5to9, 10to14  # Example 2: Single-year ages (disaggregated from 5-year ACS groups) hildale_1yr <- getCityData(   city_name = \"Hildale city, Utah\",   csv_path = hildale_path,   age_groups = NULL )  cat(\"Example 2: Single-year ages (disaggregated)\\n\") #> Example 2: Single-year ages (disaggregated) cat(\"Total population:\", format(hildale_1yr$total_pop, big.mark = \",\"), \"\\n\") #> Total population: 1,301 cat(\"Number of age groups:\", length(hildale_1yr$age_pops), \"\\n\") #> Number of age groups: 86 cat(\"First few ages:\", paste(head(hildale_1yr$age_labels, 5), collapse = \", \"), \"\\n\\n\") #> First few ages: age0, age1, age2, age3, age4  # Example 3: Custom age groups (0-18, 18-65, 65+) hildale_custom <- getCityData(   city_name = \"Hildale city, Utah\",   csv_path = hildale_path,   age_groups = c(0, 18, 65) ) #> Aggregating ages 0 to 17: sum = 442.2 #> Aggregating ages 18 to 64: sum = 778.8  cat(\"Example 3: Custom age groups (0-18, 18-65, 65+)\\n\") #> Example 3: Custom age groups (0-18, 18-65, 65+) cat(\"Total population:\", format(hildale_custom$total_pop, big.mark = \",\"), \"\\n\") #> Total population: 1,301 for (i in seq_along(hildale_custom$age_labels)) {   pct <- 100 * hildale_custom$age_pops[i] / hildale_custom$total_pop   cat(sprintf(\"  %s: %s (%.1f%%)\\n\",               hildale_custom$age_labels[i],               format(hildale_custom$age_pops[i], big.mark = \",\"),               pct)) } #>   0to17: 442.2 (34.0%) #>   18to64: 778.8 (59.9%) #>   65plus: 80 (6.1%) cities <- c(\"Hildale city, Utah\", \"Colorado City town, Arizona\")  city_data_list <- list()  for (city in cities) {   if (grepl(\"Hildale\", city)) {     csv_path <- hildale_path   } else {     csv_path <- colorado_city_path   }    data <- getCityData(     city_name = city,     csv_path = csv_path,     age_groups = agelims   )    city_data_list[[city]] <- data    cat(\"\\n\", city, \":\\n\", sep = \"\")   cat(\"  Total population:\", format(data$total_pop, big.mark = \",\"), \"\\n\")   cat(\"  Age distribution:\\n\")   for (i in seq_along(data$age_labels)) {     pct <- 100 * data$age_pops[i] / data$total_pop     cat(sprintf(\"    %s: %s (%.1f%%)\\n\",                 data$age_labels[i],                 format(data$age_pops[i], big.mark = \",\"),                 pct))   } } #> Aggregating ages 0 to 4: sum = 57 #> Aggregating ages 5 to 9: sum = 110 #> Aggregating ages 10 to 14: sum = 181 #> Aggregating ages 15 to 19: sum = 157 #> Aggregating ages 20 to 24: sum = 134 #> Aggregating ages 25 to 29: sum = 128 #> Aggregating ages 30 to 34: sum = 55 #> Aggregating ages 35 to 39: sum = 110 #> Aggregating ages 40 to 44: sum = 59 #> Aggregating ages 45 to 49: sum = 105 #> Aggregating ages 50 to 54: sum = 64 #> Aggregating ages 55 to 59: sum = 32 #> Aggregating ages 60 to 64: sum = 29 #> Aggregating ages 65 to 69: sum = 35 #>  #> Hildale city, Utah: #>   Total population: 1,301  #>   Age distribution: #>     0to4: 57 (4.4%) #>     5to9: 110 (8.5%) #>     10to14: 181 (13.9%) #>     15to19: 157 (12.1%) #>     20to24: 134 (10.3%) #>     25to29: 128 (9.8%) #>     30to34: 55 (4.2%) #>     35to39: 110 (8.5%) #>     40to44: 59 (4.5%) #>     45to49: 105 (8.1%) #>     50to54: 64 (4.9%) #>     55to59: 32 (2.5%) #>     60to64: 29 (2.2%) #>     65to69: 35 (2.7%) #>     70plus: 45 (3.5%) #> Aggregating ages 0 to 4: sum = 125 #> Aggregating ages 5 to 9: sum = 213 #> Aggregating ages 10 to 14: sum = 435 #> Aggregating ages 15 to 19: sum = 478 #> Aggregating ages 20 to 24: sum = 289 #> Aggregating ages 25 to 29: sum = 215 #> Aggregating ages 30 to 34: sum = 145 #> Aggregating ages 35 to 39: sum = 91 #> Aggregating ages 40 to 44: sum = 81 #> Aggregating ages 45 to 49: sum = 131 #> Aggregating ages 50 to 54: sum = 168 #> Aggregating ages 55 to 59: sum = 132 #> Aggregating ages 60 to 64: sum = 70 #> Aggregating ages 65 to 69: sum = 7 #>  #> Colorado City town, Arizona: #>   Total population: 2,598  #>   Age distribution: #>     0to4: 125 (4.8%) #>     5to9: 213 (8.2%) #>     10to14: 435 (16.7%) #>     15to19: 478 (18.4%) #>     20to24: 289 (11.1%) #>     25to29: 215 (8.3%) #>     30to34: 145 (5.6%) #>     35to39: 91 (3.5%) #>     40to44: 81 (3.1%) #>     45to49: 131 (5.0%) #>     50to54: 168 (6.5%) #>     55to59: 132 (5.1%) #>     60to64: 70 (2.7%) #>     65to69: 7 (0.3%) #>     70plus: 18 (0.7%)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"scenario-1-current-vaccination-coverage-95-adult-rate","dir":"Articles","previous_headings":"","what":"Scenario 1: Current Vaccination Coverage (95% adult rate)","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"Let’s model outbreaks estimated vaccination coverage levels communities.","code":"# Estimated vaccination coverage for these communities # These are approximate values based on general Utah/Arizona vaccination rates # School age children vaccination rate is based on the data available for 2024 # For adults, we assume 95% coverage for a conservative modeling approach current_coverage_95 <- c(   0.44,  # under 5, assume 1 percentage point lower than 5-9   0.45,  # 5-9   0.50,  # 10-14   0.45,  # 15-19   0.95,  # 20-24   0.95,  # 25-29   0.95,  # 30-34   0.95,  # 35-39   0.95,  # 40-44   0.95,  # 45-49   0.95,  # 50-54   0.95,  # 55-59   0.95,  # 60-64   0.95,  # 65-69   1.00   # 70+ )"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"hildale-utah---current-coverage-95-adult-rate","dir":"Articles","previous_headings":"Scenario 1: Current Vaccination Coverage (95% adult rate)","what":"Hildale, Utah - Current Coverage (95% adult rate)","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"","code":"hildale_data <- city_data_list[[\"Hildale city, Utah\"]]  hildale_current <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = hildale_data$age_pops,   agecovr = current_coverage_95,   ageveff = ageveff,   initgrp = initgrp )  cat(\"Hildale, Utah - Current Vaccination Coverage\\n\") #> Hildale, Utah - Current Vaccination Coverage print(as.data.frame(hildale_current), row.names = FALSE) #>  R0  R0local        Rv pEscape escapeInfTot under5 5to9 10to14 15to19 20to24 #>  10 18.02337  9.084099   0.607          324     30   62     93     88     10 #>  11 19.82571  9.992509   0.619          327     31   62     93     88     10 #>  12 21.62804 10.900919   0.658          329     31   62     93     88     10 #>  13 23.43038 11.809329   0.673          330     32   62     93     88     10 #>  14 25.23272 12.717739   0.717          332     32   62     93     88     11 #>  15 27.03505 13.626149   0.716          333     33   62     93     88     11 #>  16 28.83739 14.534559   0.744          333     33   62     93     88     11 #>  17 30.63973 15.442969   0.734          334     33   62     93     88     11 #>  18 32.44206 16.351379   0.772          335     33   62     93     88     11 #>  25to29 30to34 35to39 40to44 45to49 50to54 55to59 60to64 65to69 70+ #>       9      4      8      5      7      4      2      1      2   0 #>       9      4      8      5      7      4      2      1      2   0 #>       9      4      8      5      7      4      2      1      2   1 #>       9      4      9      5      8      4      2      1      2   1 #>       9      4      9      5      8      5      2      1      2   1 #>      10      4      9      5      8      5      3      2      2   1 #>      10      4      9      5      8      5      3      2      2   1 #>      10      4      9      5      8      5      3      2      2   1 #>      10      4      9      5      8      5      3      2      2   1"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"colorado-city-arizona---current-coverage-95-adult-rate","dir":"Articles","previous_headings":"Scenario 1: Current Vaccination Coverage (95% adult rate)","what":"Colorado City, Arizona - Current Coverage (95% adult rate)","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"","code":"colorado_data <- city_data_list[[\"Colorado City town, Arizona\"]]  colorado_current <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = colorado_data$age_pops,   agecovr = current_coverage_95,   ageveff = ageveff,   initgrp = initgrp )  cat(\"\\nColorado City, Arizona - Current Vaccination Coverage\\n\") #>  #> Colorado City, Arizona - Current Vaccination Coverage print(as.data.frame(colorado_current), row.names = FALSE) #>  R0  R0local       Rv pEscape escapeInfTot under5 5to9 10to14 15to19 20to24 #>  10 22.78073 11.93155   0.640          771     67  120    224    269     22 #>  11 25.05880 13.12470   0.681          775     68  120    224    269     22 #>  12 27.33687 14.31786   0.686          778     70  120    224    269     22 #>  13 29.61495 15.51101   0.715          781     71  120    224    269     23 #>  14 31.89302 16.70417   0.729          783     71  120    224    269     23 #>  15 34.17109 17.89732   0.771          784     72  120    224    269     23 #>  16 36.44917 19.09048   0.769          786     72  120    224    269     23 #>  17 38.72724 20.28363   0.785          786     73  120    224    269     23 #>  18 41.00531 21.47679   0.797          787     73  120    224    269     23 #>  25to29 30to34 35to39 40to44 45to49 50to54 55to59 60to64 65to69 70+ #>      15     10      7      6      9     11      8      3      1   0 #>      16     10      7      6      9     12      8      3      1   1 #>      16     10      7      6     10     12      8      4      1   1 #>      16     11      7      6     10     12      9      4      1   1 #>      16     11      7      6     10     12      9      4      1   1 #>      16     11      7      6     10     12      9      4      1   1 #>      17     11      7      6     10     13      9      4      1   1 #>      17     11      7      6     10     13      9      4      1   1 #>      17     11      7      6     10     13      9      4      1   1"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"visualization-comparing-cities","dir":"Articles","previous_headings":"","what":"Visualization: Comparing Cities","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"Let’s visualize outbreak potential across two cities:  Now lower R0 value:","code":"# Extract R0=15 results for comparison r0_15_idx <- which(hildale_current[, \"R0\"] == 15)  # Calculate combined city data combined_age_pops <- hildale_data$age_pops + colorado_data$age_pops combined_total_pop <- hildale_data$total_pop + colorado_data$total_pop  combined_current <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = combined_age_pops,   agecovr = current_coverage_95,   ageveff = ageveff,   initgrp = initgrp )  cities_names <- c(\"Hildale, UT\", \"Colorado City, AZ\", \"Combined\") escape_pcts <- c(   100 * hildale_current[r0_15_idx, \"escapeInfTot\"] / hildale_data$total_pop,   100 * colorado_current[r0_15_idx, \"escapeInfTot\"] / colorado_data$total_pop,   100 * combined_current[r0_15_idx, \"escapeInfTot\"] / combined_total_pop )  # Create data frame for ggplot plot_data <- data.frame(   City = factor(cities_names, levels = cities_names),   Percentage = escape_pcts,   Color = c(\"#f7b360\", \"#9dd7da\", \"#c77dff\") )  ggplot(plot_data, aes(x = City, y = Percentage, fill = Color)) +   geom_bar(stat = \"identity\", width = 0.7) +   geom_text(aes(label = sprintf(\"%.1f%%\", Percentage)), vjust = -0.5, size = 4) +   scale_fill_identity() +   labs(title = \"Potential Outbreak Size (R0=15)\\nCurrent Coverage\",        x = \"City\",        y = \"% of Population Infected\") +   theme_minimal() +   theme(axis.text.x = element_text(angle = 45, hjust = 1),         plot.title = element_text(hjust = 0.5)) +   ylim(0, max(escape_pcts) * 1.1) # Extract R0=10 results for comparison r0_10_idx <- which(hildale_current[, \"R0\"] == 10)  escape_pcts_10 <- c(   100 * hildale_current[r0_10_idx, \"escapeInfTot\"] / hildale_data$total_pop,   100 * colorado_current[r0_10_idx, \"escapeInfTot\"] / colorado_data$total_pop,   100 * combined_current[r0_10_idx, \"escapeInfTot\"] / combined_total_pop )  # Create data frame for ggplot plot_data_10 <- data.frame(   City = factor(cities_names, levels = cities_names),   Percentage = escape_pcts_10,   Color = c(\"#f7b360\", \"#9dd7da\", \"#c77dff\") )  ggplot(plot_data_10, aes(x = City, y = Percentage, fill = Color)) +   geom_bar(stat = \"identity\", width = 0.7) +   geom_text(aes(label = sprintf(\"%.1f%%\", Percentage)), vjust = -0.5, size = 4) +   scale_fill_identity() +   labs(title = \"Potential Outbreak Size (R0=10)\\nCurrent Coverage\",        x = \"City\",        y = \"% of Population Infected\") +   theme_minimal() +   theme(axis.text.x = element_text(angle = 45, hjust = 1),         plot.title = element_text(hjust = 0.5)) +   ylim(0, max(escape_pcts_10) * 1.1)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"comparison-of-r0-values-with-trend-analysis","dir":"Articles","previous_headings":"","what":"Comparison of R0 Values with Trend Analysis","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"Let’s compare different R0 values impact outbreak size (% pop) communities current vaccination coverage, including trendlines statistical comparison:","code":"r0_values <- c(10, 11, 12, 13, 14, 15, 16, 17, 18) hildale_percents <- numeric(length(r0_values)) colorado_percents <- numeric(length(r0_values)) combined_percents <- numeric(length(r0_values))  for (i in seq_along(r0_values)) {   r0_idx_hildale <- which(hildale_current[, \"R0\"] == r0_values[i])   r0_idx_colorado <- which(colorado_current[, \"R0\"] == r0_values[i])   r0_idx_combined <- which(combined_current[, \"R0\"] == r0_values[i])    hildale_percents[i] <- 100 * hildale_current[r0_idx_hildale, \"escapeInfTot\"] / hildale_data$total_pop   colorado_percents[i] <- 100 * colorado_current[r0_idx_colorado, \"escapeInfTot\"] / colorado_data$total_pop   combined_percents[i] <- 100 * combined_current[r0_idx_combined, \"escapeInfTot\"] / combined_total_pop }  # Create data frame for ggplot r0_data <- data.frame(   R0 = rep(r0_values, 3),   Percentage = c(hildale_percents, colorado_percents, combined_percents),   City = rep(c(\"Hildale, UT\", \"Colorado City, AZ\", \"Combined\"), each = length(r0_values)),   Color = rep(c(\"blue\", \"red\", \"purple\"), each = length(r0_values)) )  # Fit linear models for trendlines hildale_lm <- lm(hildale_percents ~ r0_values) colorado_lm <- lm(colorado_percents ~ r0_values) combined_lm <- lm(combined_percents ~ r0_values)  # Create trendline data trend_data <- data.frame(   R0 = rep(r0_values, 3),   Trend = c(predict(hildale_lm), predict(colorado_lm), predict(combined_lm)),   City = rep(c(\"Hildale, UT\", \"Colorado City, AZ\", \"Combined\"), each = length(r0_values)) )  ggplot() +   geom_line(data = r0_data, aes(x = R0, y = Percentage, color = City), size = 1) +   geom_point(data = r0_data, aes(x = R0, y = Percentage, color = City), size = 3) +   geom_line(data = trend_data, aes(x = R0, y = Trend, color = City), linetype = \"dashed\", size = 1) +   scale_color_manual(values = c(\"Hildale, UT\" = \"blue\", \"Colorado City, AZ\" = \"red\", \"Combined\" = \"purple\")) +   labs(title = \"Outbreak Size vs R0 Value\\n(Current Vaccination Coverage)\",        x = \"R0 Value\",        y = \"% of Population Infected\") +   theme_minimal() +   theme(plot.title = element_text(hjust = 0.5)) +   ylim(15, max(r0_data$Percentage) * 1.1) #> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0. #> ℹ Please use `linewidth` instead. #> This warning is displayed once per session. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated."},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"statistical-comparison-of-trendlines","dir":"Articles","previous_headings":"","what":"Statistical Comparison of Trendlines","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"Let’s perform statistical comparison relationship R0 values outbreak size cities combined population:","code":"# Extract slope coefficients and their standard errors hildale_summary <- summary(hildale_lm) colorado_summary <- summary(colorado_lm) combined_summary <- summary(combined_lm)  hildale_slope <- coef(hildale_summary)[2, 1] hildale_se <- coef(hildale_summary)[2, 2]  colorado_slope <- coef(colorado_summary)[2, 1] colorado_se <- coef(colorado_summary)[2, 2]  combined_slope <- coef(combined_summary)[2, 1] combined_se <- coef(combined_summary)[2, 2]  # Output results cat(\"Statistical Comparison of R0-Outbreak Size Relationships\\n\\n\") #> Statistical Comparison of R0-Outbreak Size Relationships cat(\"Hildale, UT:\\n\") #> Hildale, UT: cat(sprintf(\"  Slope: %.4f (SE: %.4f)\\n\", hildale_slope, hildale_se)) #>   Slope: 0.0974 (SE: 0.0101) cat(sprintf(\"  R²: %.4f\\n\", hildale_summary$r.squared)) #>   R²: 0.9296 cat(\"\\n\") cat(\"Colorado City, AZ:\\n\") #> Colorado City, AZ: cat(sprintf(\"  Slope: %.4f (SE: %.4f)\\n\", colorado_slope, colorado_se)) #>   Slope: 0.0744 (SE: 0.0082) cat(sprintf(\"  R²: %.4f\\n\", colorado_summary$r.squared)) #>   R²: 0.9208 cat(\"\\n\") cat(\"Combined Cities:\\n\") #> Combined Cities: cat(sprintf(\"  Slope: %.4f (SE: %.4f)\\n\", combined_slope, combined_se)) #>   Slope: 0.0804 (SE: 0.0084) cat(sprintf(\"  R²: %.4f\\n\", combined_summary$r.squared)) #>   R²: 0.9288 cat(\"\\n\")  cat(\"Summary:\\n\") #> Summary: cat(\"The combined population shows the most gradual increase in outbreak size with R0,\\n\") #> The combined population shows the most gradual increase in outbreak size with R0, cat(\"suggesting that aggregating the populations provides a more stable epidemic profile.\\n\") #> suggesting that aggregating the populations provides a more stable epidemic profile."},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"scenario-2-linear-interpolation-of-adult-vaccination-rates","dir":"Articles","previous_headings":"","what":"Scenario 2: Linear Interpolation of Adult Vaccination Rates","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"Let’s model outbreaks interpolated adult vaccination coverage. interpolate vaccination rate adults end highschool age 95% 49-65 age groups.","code":"# Define age limits and corresponding coverage rates # current_coverage_95 is defined above # for 20, 25, 30, 35, 40, 45, 50 adjust the rate to interpolate between 45% and 95% adult_ages <- c(15, 20, 25, 30, 35, 40, 45, 50) adult_rates <- seq(0.45, 0.95, length.out = length(adult_ages))  linear_coverage <- current_coverage_95  for (i in seq_along(adult_ages)) {   age <- adult_ages[i]   rate <- adult_rates[i]   age_idx <- which(agelims[-length(agelims)] == age)   linear_coverage[age_idx] <- rate }  cat(\"Interpolated Adult Vaccination Coverage Rates:\\n\") #> Interpolated Adult Vaccination Coverage Rates: for (i in seq_along(adult_ages)) {   age <- adult_ages[i]   age_idx <- which(agelims[-length(agelims)] == age)   cat(sprintf(\"  Age %d: %.2f%%\\n\", age, linear_coverage[age_idx] * 100)) } #>   Age 15: 45.00% #>   Age 20: 52.14% #>   Age 25: 59.29% #>   Age 30: 66.43% #>   Age 35: 73.57% #>   Age 40: 80.71% #>   Age 45: 87.86% #>   Age 50: 95.00%"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/hildale_and_colorado_city.html","id":"combined-communities-visualization","dir":"Articles","previous_headings":"Scenario 2: Linear Interpolation of Adult Vaccination Rates","what":"Combined communities visualization","title":"City Population Data: Measles Outbreak Modeling Comparison","text":"","code":"# Extract R0=15 results for comparison # combine the two communities populations into one and run the sim on this combined data combined_pops <- hildale_data$age_pops + colorado_data$age_pops  combined_95 <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = combined_pops,   agecovr = current_coverage_95,   ageveff = ageveff,   initgrp = initgrp )  # print results for current coverage cat(\"Combined Cities - Current Vaccination Coverage (95% adult rate)\\n\") #> Combined Cities - Current Vaccination Coverage (95% adult rate) print(as.data.frame(combined_95), row.names = FALSE) #>  R0  R0local       Rv pEscape escapeInfTot under5 5to9 10to14 15to19 20to24 #>  10 21.07870 10.90532   0.645         1098     97  182    317    358     31 #>  11 23.18656 11.99586   0.680         1104     99  182    317    358     31 #>  12 25.29443 13.08639   0.678         1110    101  182    317    358     32 #>  13 27.40230 14.17692   0.730         1114    103  182    317    358     32 #>  14 29.51017 15.26745   0.727         1117    104  182    317    358     32 #>  15 31.61804 16.35799   0.730         1119    105  182    317    358     33 #>  16 33.72591 17.44852   0.750         1121    105  182    317    358     33 #>  17 35.83378 18.53905   0.771         1123    106  182    317    358     33 #>  18 37.94165 19.62958   0.760         1124    106  182    317    358     33 #>  25to29 30to34 35to39 40to44 45to49 50to54 55to59 60to64 65to69 70+ #>      24     14     15     10     17     15     10      5      2   1 #>      25     15     15     11     18     16     10      5      2   1 #>      25     15     15     11     18     16     11      6      2   1 #>      25     15     15     11     18     17     11      6      2   1 #>      26     15     16     11     18     17     11      6      2   1 #>      26     16     16     11     19     17     11      6      2   1 #>      26     16     16     11     19     17     12      7      2   1 #>      26     16     16     11     19     17     12      7      2   1 #>      27     16     16     11     19     18     12      7      2   1  combined_linear <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = combined_pops,   agecovr = linear_coverage,   ageveff = ageveff,   initgrp = initgrp )  cat(\"Combined Cities - Linear Interpolated Adult Vaccination Coverage\\n\") #> Combined Cities - Linear Interpolated Adult Vaccination Coverage print(as.data.frame(combined_linear), row.names = FALSE) #>  R0  R0local       Rv pEscape escapeInfTot under5 5to9 10to14 15to19 20to24 #>  10 21.07870 11.10596   0.776         1540    103  182    317    358    208 #>  11 23.18656 12.21655   0.793         1545    104  182    317    358    209 #>  12 25.29443 13.32715   0.809         1549    105  182    317    358    209 #>  13 27.40230 14.43774   0.830         1551    106  182    317    358    209 #>  14 29.51017 15.54834   0.857         1553    107  182    317    358    209 #>  15 31.61804 16.65894   0.864         1554    107  182    317    358    209 #>  16 33.72591 17.76953   0.872         1555    107  182    317    358    209 #>  17 35.83378 18.88013   0.862         1556    107  182    317    358    209 #>  18 37.94165 19.99072   0.872         1556    108  182    317    358    209 #>  25to29 30to34 35to39 40to44 45to49 50to54 55to59 60to64 65to69 70+ #>     144     69     57     29     34     17     12      7      2   1 #>     145     70     57     30     34     17     12      7      2   1 #>     145     70     57     30     35     18     12      7      2   1 #>     146     71     58     30     35     18     12      7      2   1 #>     146     71     58     30     35     18     12      7      2   1 #>     146     71     58     30     35     18     13      7      3   2 #>     146     71     58     30     35     18     13      7      3   2 #>     146     71     58     30     35     18     13      8      3   2 #>     146     71     58     30     35     18     13      8      3   2  r0_15_idx <- which(combined_linear[, \"R0\"] == 15) r0_15_idx_95 <- which(combined_95[, \"R0\"] == 15)  # Combine both scenarios into a single bar chart combined_percentages <- c(   100 * combined_95[r0_15_idx_95, \"escapeInfTot\"] / sum(combined_pops),   100 * combined_linear[r0_15_idx, \"escapeInfTot\"] / sum(combined_pops) )  scenario_names <- c(\"Current Coverage\\n(95% adult rate)\", \"Linear Interpolated\\nAdult Coverage\")  # Create data frame for ggplot scenario_data <- data.frame(   Scenario = factor(scenario_names, levels = scenario_names),   Percentage = combined_percentages,   Color = c(\"#f7b360\", \"#9dd7da\") )  ggplot(scenario_data, aes(x = Scenario, y = Percentage, fill = Color)) +   geom_bar(stat = \"identity\", width = 0.7) +   geom_text(aes(label = sprintf(\"%.1f%%\", Percentage)), vjust = -0.5, size = 4) +   scale_fill_identity() +   labs(title = \"Combined Communities: % of Population Infected (R0=15)\",        x = \"Vaccination Scenario\",        y = \"% of Population Infected\") +   theme_minimal() +   theme(axis.text.x = element_text(angle = 45, hjust = 1),         plot.title = element_text(hjust = 0.5)) +   ylim(0, max(combined_percentages) * 1.1)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"vignette demonstrates use getCensusData() function retrieve real U.S. Census Bureau population data Utah counties use measles outbreak modeling. ’ll compare different counties varying demographic structures respond measles outbreaks different vaccination scenarios. Note: vignette uses included example census data file ensure works offline package building.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"measles-model-setup","dir":"Articles","previous_headings":"","what":"Measles Model Setup","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"measles outbreak modeling, ’ll use standard age groups measles age-structured model:","code":"# Standard measles age groups: under 1, 1-4, 5-11, 12-17, 18-24, 25-44, 45-69, 70+ agelims <- c(0, 1, 5, 12, 18, 25, 45, 70)  # Vaccine effectiveness by age group ageveff <- c(0.93, 0.93, rep(0.97, 5), 1)  # Initial infection in the 25-44 age group (working age adults) initgrp <- 6"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"getting-census-data-for-utah-counties","dir":"Articles","previous_headings":"","what":"Getting Census Data for Utah Counties","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"Let’s retrieve population data three diverse Utah counties:","code":"utah_fips <- getStateFIPS(\"Utah\")  # Get data for three counties with different characteristics counties <- c(\"Salt Lake County\", \"Utah County\", \"Washington County\")  county_data_list <- list()  for (county in counties) {   data <- getCensusData(     state_fips = utah_fips,     county_name = county,     year = 2024,     age_groups = agelims,     csv_path = census_csv   )    county_data_list[[county]] <- data    cat(\"\\n\", county, \":\\n\", sep = \"\")   cat(\"  Total population:\", format(data$total_pop, big.mark = \",\"), \"\\n\")   cat(\"  Age distribution:\\n\")   for (i in seq_along(data$age_labels)) {     pct <- 100 * data$age_pops[i] / data$total_pop     cat(sprintf(\"    %s: %s (%.1f%%)\\n\",                 data$age_labels[i],                 format(data$age_pops[i], big.mark = \",\"),                 pct))   } } #> Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv #> Aggregating ages 0 to 0: sum = 14732 #> Aggregating ages 1 to 4: sum = 57711 #> Aggregating ages 5 to 11: sum = 111884 #> Aggregating ages 12 to 17: sum = 108100 #> Aggregating ages 18 to 24: sum = 125472 #> Aggregating ages 25 to 44: sum = 379015 #> Aggregating ages 45 to 69: sum = 318909 #>  #> Salt Lake County: #>   Total population: 1,216,274  #>   Age distribution: #>     under1: 14,732 (1.2%) #>     1to4: 57,711 (4.7%) #>     5to11: 111,884 (9.2%) #>     12to17: 108,100 (8.9%) #>     18to24: 125,472 (10.3%) #>     25to44: 379,015 (31.2%) #>     45to69: 318,909 (26.2%) #>     70plus: 100,451 (8.3%) #> Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv #> Aggregating ages 0 to 0: sum = 12053 #> Aggregating ages 1 to 4: sum = 48596 #> Aggregating ages 5 to 11: sum = 88402 #> Aggregating ages 12 to 17: sum = 78366 #> Aggregating ages 18 to 24: sum = 125580 #> Aggregating ages 25 to 44: sum = 210551 #> Aggregating ages 45 to 69: sum = 143596 #>  #> Utah County: #>   Total population: 747,234  #>   Age distribution: #>     under1: 12,053 (1.6%) #>     1to4: 48,596 (6.5%) #>     5to11: 88,402 (11.8%) #>     12to17: 78,366 (10.5%) #>     18to24: 125,580 (16.8%) #>     25to44: 210,551 (28.2%) #>     45to69: 143,596 (19.2%) #>     70plus: 40,090 (5.4%) #> Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv #> Aggregating ages 0 to 0: sum = 2263 #> Aggregating ages 1 to 4: sum = 9687 #> Aggregating ages 5 to 11: sum = 18808 #> Aggregating ages 12 to 17: sum = 18446 #> Aggregating ages 18 to 24: sum = 19948 #> Aggregating ages 25 to 44: sum = 49399 #> Aggregating ages 45 to 69: sum = 55271 #>  #> Washington County: #>   Total population: 207,943  #>   Age distribution: #>     under1: 2,263 (1.1%) #>     1to4: 9,687 (4.7%) #>     5to11: 18,808 (9.0%) #>     12to17: 18,446 (8.9%) #>     18to24: 19,948 (9.6%) #>     25to44: 49,399 (23.8%) #>     45to69: 55,271 (26.6%) #>     70plus: 34,121 (16.4%)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"scenario-1-current-vaccination-coverage","dir":"Articles","previous_headings":"","what":"Scenario 1: Current Vaccination Coverage","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"Let’s model outbreaks current estimated vaccination coverage levels Utah.","code":"# Based on school data and estimates current_coverage <- c(0, 0.89, 0.949, 0.950, 0.95, 0.95, 0.95, 1)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"salt-lake-county---current-coverage","dir":"Articles","previous_headings":"Scenario 1: Current Vaccination Coverage","what":"Salt Lake County - Current Coverage","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"","code":"slc_data <- county_data_list[[\"Salt Lake County\"]]  slc_current <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = slc_data$age_pops,   agecovr = current_coverage,   ageveff = ageveff,   initgrp = initgrp )  cat(\"Salt Lake County - Current Vaccination Coverage\\n\") #> Salt Lake County - Current Vaccination Coverage print(as.data.frame(slc_current), row.names = FALSE) #>  R0  R0local        Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24 #>  10 11.42435 0.9402893   0.000            0      0    0     0      0      0 #>  11 12.56679 1.0343182   0.075         4922    400  448   599    846    508 #>  12 13.70922 1.1283471   0.093        17506   1530 1654  2070   2638   1812 #>  13 14.85166 1.2223761   0.146        28583   2644 2760  3275   3908   2954 #>  14 15.99409 1.3164050   0.239        38133   3694 3727  4241   4838   3926 #>  15 17.13653 1.4104339   0.272        46321   4661 4559  5015   5539   4748 #>  16 18.27896 1.5044628   0.287        53345   5544 5269  5639   6078   5440 #>  17 19.42140 1.5984918   0.347        59386   6345 5875  6146   6501   6026 #>  18 20.56383 1.6925207   0.380        64604   7069 6392  6560   6837   6522 #>  25to44 45to69 70+ #>       0      0   0 #>    1375    746   0 #>    5014   2788   0 #>    8306   4736   0 #>   11175   6530   0 #>   13640   8158   0 #>   15747   9627   0 #>   17546  10948   0 #>   19086  12137   0"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"utah-county---current-coverage","dir":"Articles","previous_headings":"Scenario 1: Current Vaccination Coverage","what":"Utah County - Current Coverage","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"","code":"utah_data <- county_data_list[[\"Utah County\"]]  utah_current <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = utah_data$age_pops,   agecovr = current_coverage,   ageveff = ageveff,   initgrp = initgrp )  cat(\"\\nUtah County - Current Vaccination Coverage\\n\") #>  #> Utah County - Current Vaccination Coverage print(as.data.frame(utah_current), row.names = FALSE) #>  R0  R0local       Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24 #>  10 13.36528 1.106482   0.101         9582    983 1126  1361   1603   1614 #>  11 14.70180 1.217131   0.129        18227   2025 2219  2503   2724   3042 #>  12 16.03833 1.327779   0.206        25527   3016 3168  3391   3507   4210 #>  13 17.37486 1.438427   0.251        31653   3929 3970  4080   4075   5157 #>  14 18.71139 1.549075   0.276        36800   4754 4640  4618   4499   5924 #>  15 20.04792 1.659724   0.348        41143   5495 5198  5043   4821   6549 #>  16 21.38444 1.770372   0.355        44826   6156 5663  5381   5071   7060 #>  17 22.72097 1.881020   0.394        47967   6745 6051  5654   5267   7482 #>  18 24.05750 1.991668   0.406        50660   7269 6378  5875   5423   7831 #>  25to44 45to69 70+ #>    2025    870   0 #>    3967   1747   0 #>    5671   2563   0 #>    7136   3306   0 #>    8386   3978   0 #>    9452   4585   0 #>   10362   5133   0 #>   11140   5628   0 #>   11808   6075   0"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"washington-county---current-coverage","dir":"Articles","previous_headings":"Scenario 1: Current Vaccination Coverage","what":"Washington County - Current Coverage","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"","code":"wash_data <- county_data_list[[\"Washington County\"]]  wash_current <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = wash_data$age_pops,   agecovr = current_coverage,   ageveff = ageveff,   initgrp = initgrp )  cat(\"\\nWashington County - Current Vaccination Coverage\\n\") #>  #> Washington County - Current Vaccination Coverage print(as.data.frame(wash_current), row.names = FALSE) #>  R0  R0local        Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24 #>  10 10.86329 0.8823416   0.000            0      0    0     0      0      0 #>  11 11.94962 0.9705758   0.000            0      0    0     0      0      0 #>  12 13.03595 1.0588100   0.079         1130     86  109   153    231    117 #>  13 14.12227 1.1470441   0.112         2737    225  276   363    493    285 #>  14 15.20860 1.2352783   0.140         4217    369  437   545    687    441 #>  15 16.29493 1.3235125   0.204         5541    509  585   696    834    580 #>  16 17.38126 1.4117466   0.255         6711    642  716   820    946    701 #>  17 18.46759 1.4999808   0.268         7741    767  831   922   1035    806 #>  18 19.55392 1.5882150   0.322         8647    882  931  1006   1104    898 #>  25to44 45to69 70+ #>       0      0   0 #>       0      0   0 #>     250    184   0 #>     625    469   0 #>     984    754   0 #>    1312   1026   0 #>    1605   1281   0 #>    1865   1516   0 #>    2092   1733   0"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"visualization-comparing-counties","dir":"Articles","previous_headings":"","what":"Visualization: Comparing Counties","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"Let’s visualize outbreak potential across counties:","code":"# Extract R0=15 results for comparison r0_15_idx <- which(slc_current[, \"R0\"] == 15)  counties_names <- c(\"Salt Lake\", \"Utah\", \"Washington\") escape_totals <- c(   slc_current[r0_15_idx, \"escapeInfTot\"],   utah_current[r0_15_idx, \"escapeInfTot\"],   wash_current[r0_15_idx, \"escapeInfTot\"] ) total_pops <- c(   slc_data$total_pop,   utah_data$total_pop,   wash_data$total_pop )  escape_pcts <- 100 * escape_totals / total_pops  par(mfrow = c(1, 2), mar = c(5, 4, 4, 2))  # Absolute numbers barplot(escape_totals,         names.arg = counties_names,         main = \"Potential Outbreak Size (R0=15)\\nCurrent Coverage\",         ylab = \"Total Infections\",         col = \"coral\",         las = 2)  # Percentages barplot(escape_pcts,         names.arg = counties_names,         main = \"% of Population (R0=15)\\nCurrent Coverage\",         ylab = \"% of Population Infected\",         col = \"steelblue\",         las = 2)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"scenario-2-reduced-vaccination-coverage","dir":"Articles","previous_headings":"","what":"Scenario 2: Reduced Vaccination Coverage","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"happens vaccination coverage drops 10% across age groups?","code":"reduced_coverage <- current_coverage * 0.9  # 10% reduction reduced_coverage[1] <- 0  # Keep under-1 at 0 slc_reduced <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = slc_data$age_pops,   agecovr = reduced_coverage,   ageveff = ageveff,   initgrp = initgrp )  utah_reduced <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = utah_data$age_pops,   agecovr = reduced_coverage,   ageveff = ageveff,   initgrp = initgrp )  wash_reduced <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = wash_data$age_pops,   agecovr = reduced_coverage,   ageveff = ageveff,   initgrp = initgrp )  cat(\"Salt Lake County - Reduced Coverage (-10%)\\n\") #> Salt Lake County - Reduced Coverage (-10%) print(as.data.frame(slc_reduced), row.names = FALSE) #>  R0  R0local       Rv pEscape escapeInfTot under1  1to4 5to11 12to17 18to24 #>  10 11.42435 1.979104   0.455       149540   7095 10043 15806  16378  16556 #>  11 12.56679 2.177015   0.487       161833   8031 10966 16683  16985  17699 #>  12 13.70922 2.374925   0.535       171440   8836 11687 17311  17399  18545 #>  13 14.85166 2.572836   0.569       179053   9532 12255 17768  17688  19180 #>  14 15.99409 2.770746   0.608       185157  10135 12706 18105  17892  19662 #>  15 17.13653 2.968657   0.634       190105  10660 13067 18357  18038  20032 #>  16 18.27896 3.166567   0.663       194153  11118 13358 18547  18144  20319 #>  17 19.42140 3.364477   0.682       197493  11519 13594 18691  18222  20542 #>  18 20.56383 3.562388   0.689       200269  11871 13787 18801  18279  20717 #>  25to44 45to69  70+ #>   47891  32417 3355 #>   51657  35938 3873 #>   54497  38823 4342 #>   56661  41202 4767 #>   58327  43176 5154 #>   59620  44824 5507 #>   60632  46206 5829 #>   61428  47372 6125 #>   62059  48358 6397"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"impact-of-reduced-coverage","dir":"Articles","previous_headings":"Scenario 2: Reduced Vaccination Coverage","what":"Impact of Reduced Coverage","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"","code":"# Compare current vs reduced for R0=15 escape_reduced <- c(   slc_reduced[r0_15_idx, \"escapeInfTot\"],   utah_reduced[r0_15_idx, \"escapeInfTot\"],   wash_reduced[r0_15_idx, \"escapeInfTot\"] )  comparison_matrix <- rbind(escape_totals, escape_reduced) colnames(comparison_matrix) <- counties_names rownames(comparison_matrix) <- c(\"Current\", \"Reduced -10%\")  barplot(comparison_matrix,         beside = TRUE,         main = \"Impact of 10% Reduction in Vaccination Coverage\\n(R0=15)\",         xlab = \"County\",         ylab = \"Total Infections\",         col = c(\"steelblue\", \"coral\"),         legend.text = rownames(comparison_matrix),         args.legend = list(x = \"topleft\", bty = \"n\")) # Calculate percent increase pct_increase <- 100 * (escape_reduced - escape_totals) / escape_totals cat(\"\\nPercent increase in outbreak size with 10% coverage reduction:\\n\") #>  #> Percent increase in outbreak size with 10% coverage reduction: for (i in seq_along(counties_names)) {   cat(sprintf(\"  %s: +%.1f%%\\n\", counties_names[i], pct_increase[i])) } #>   Salt Lake: +310.4% #>   Utah: +204.6% #>   Washington: +433.7%"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"scenario-3-age-specific-vaccination-gaps","dir":"Articles","previous_headings":"","what":"Scenario 3: Age-Specific Vaccination Gaps","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"vaccination coverage particularly low school-age children (5-17)?","code":"school_gap_coverage <- current_coverage school_gap_coverage[3] <- 0.75  # 5-11: reduced from 85.2% to 75% school_gap_coverage[4] <- 0.75  # 12-17: reduced from 87.9% to 75% slc_schoolgap <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = slc_data$age_pops,   agecovr = school_gap_coverage,   ageveff = ageveff,   initgrp = initgrp )  utah_schoolgap <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = utah_data$age_pops,   agecovr = school_gap_coverage,   ageveff = ageveff,   initgrp = initgrp )  wash_schoolgap <- multigroup.vaccine:::getOutputTable(   agelims = agelims,   agepops = wash_data$age_pops,   agecovr = school_gap_coverage,   ageveff = ageveff,   initgrp = initgrp )  cat(\"Salt Lake County - School-Age Vaccination Reduction\\n\") #> Salt Lake County - School-Age Vaccination Reduction print(as.data.frame(slc_schoolgap), row.names = FALSE) #>  R0  R0local       Rv pEscape escapeInfTot under1 1to4 5to11 12to17 18to24 #>  10 11.42435 2.612491   0.344        95041   4956 5198 26503  27594   5429 #>  11 12.56679 2.873740   0.371       101832   5740 5820 27564  28171   6022 #>  12 13.70922 3.134989   0.411       107627   6480 6367 28326  28561   6540 #>  13 14.85166 3.396238   0.452       112603   7173 6843 28880  28829   6990 #>  14 15.99409 3.657487   0.487       116895   7816 7257 29286  29015   7379 #>  15 17.13653 3.918736   0.482       120612   8409 7614 29585  29144   7715 #>  16 18.27896 4.179985   0.569       123841   8954 7923 29807  29235   8003 #>  17 19.42140 4.441234   0.568       126656   9453 8190 29973  29299   8252 #>  18 20.56383 4.702483   0.600       129117   9909 8420 30097  29344   8465 #>  25to44 45to69 70+ #>   15880   9481   0 #>   17706  10810   0 #>   19308  12044   0 #>   20705  13182   0 #>   21917  14226   0 #>   22966  15179   0 #>   23871  16048   0 #>   24653  16838   0 #>   25326  17556   0"},{"path":"https://epiforesite.github.io/multigroup-vaccine/articles/utah_census_comparison.html","id":"age-specific-impact","dir":"Articles","previous_headings":"Scenario 3: Age-Specific Vaccination Gaps","what":"Age-Specific Impact","title":"Utah Census Data: Measles Outbreak Modeling Comparison","text":"","code":"# Compare infections by age group for Salt Lake County age_labels_short <- c(\"0\", \"1-4\", \"5-11\", \"12-17\", \"18-24\", \"25-44\", \"45-69\", \"70+\")  # Get age-specific infections for R0=15 slc_current_ages <- as.numeric(slc_current[r0_15_idx, 5:12]) slc_schoolgap_ages <- as.numeric(slc_schoolgap[r0_15_idx, 5:12])  age_comparison <- rbind(slc_current_ages, slc_schoolgap_ages) colnames(age_comparison) <- age_labels_short rownames(age_comparison) <- c(\"Current\", \"School-Age Reduced\")  barplot(age_comparison,         beside = TRUE,         main = \"Salt Lake County: Impact of School-Age Vaccination Reduction\\n(R0=15)\",         xlab = \"Age Group\",         ylab = \"Infections\",         col = c(\"darkseagreen\", \"coral\"),         legend.text = rownames(age_comparison),         args.legend = list(x = \"topright\", bty = \"n\"),         las = 2)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Damon Toth. Author, contributor. Jake Wagoner. Maintainer, contributor. Willy Ray. Contributor. Centers Disease Control Prevention's Center Forecasting Outbreak Analytics. Funder.           Cooperative agreement CDC-RFA-FT-23-0069","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Toth D (2026). multigroup.vaccine: Multigroup Vaccine Model. R package version 0.1.0, https://epiforesite.github.io/multigroup-vaccine/.","code":"@Manual{,   title = {multigroup.vaccine: Multigroup Vaccine Model},   author = {Damon Toth},   year = {2026},   note = {R package version 0.1.0},   url = {https://epiforesite.github.io/multigroup-vaccine/}, }"},{"path":[]},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Multigroup Vaccine Model","text":"multigroup.vaccine models infectious disease dynamics populations multiple distinct subgroups : Different vaccination rates Different vaccine effectiveness Differential contact patterns within groups package provides interactive Shiny dashboard programmatic R functions epidemiological modeling outbreak forecasting.","code":""},{"path":[]},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"from-r-universe-recommended","dir":"","previous_headings":"Installation","what":"From R-universe (Recommended)","title":"Multigroup Vaccine Model","text":"","code":"install.packages(\"multigroup.vaccine\",                   repos = \"https://epiforesite.r-universe.dev\")"},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"from-github","dir":"","previous_headings":"Installation","what":"From GitHub","title":"Multigroup Vaccine Model","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"EpiForeSITE/multigroup-vaccine\")"},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"dependencies","dir":"","previous_headings":"Installation","what":"Dependencies","title":"Multigroup Vaccine Model","text":"package depends following R packages: Imports: deSolve, graphics, shiny, stats, bslib (>= 0.8.0), htmltools, socialmixr Suggests: knitr, rmarkdown, testthat (>= 3.0.0), ggplot2, epiworldR Note vignettes require ggplot2 suggested packages.","code":""},{"path":[]},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"interactive-dashboard","dir":"","previous_headings":"Quick Start","what":"Interactive Dashboard","title":"Multigroup Vaccine Model","text":"Launch Shiny dashboard interactive modeling: dashboard models two distinct sub-populations differential within-group across-group contact rates different vaccination adherence levels. See Nguyen et al. (2024) details modeling approach.","code":"library(multigroup.vaccine) run_my_app()"},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"programmatic-usage","dir":"","previous_headings":"Quick Start","what":"Programmatic Usage","title":"Multigroup Vaccine Model","text":"can also use package functions directly R scripts. ’s example comparing populations different vaccination rates:","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"two-group-population-comparison","dir":"","previous_headings":"Quick Start > Programmatic Usage","what":"Two-Group Population Comparison","title":"Multigroup Vaccine Model","text":"","code":"# Compare populations with different vaccination rates results <- getFinalSize(   vacPortion = c(0.9, 0.3),      # 90% vs 30% vaccinated   popSize = c(10000, 10000),      # Equal population sizes   R0 = 15,                        # Basic reproduction number   recoveryRate = 0.1,             # 1/recovery rate = 10 days   relContact = 0.05,              # 5% contact between groups   contactWithinGroup = c(0.8, 0.8), # 80% within-group contact   relSusc = c(0.1, 1)            # 10% relative susceptibility if vaccinated )  print(results)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Multigroup Vaccine Model","text":"Multi-group SIR modeling vaccination variable contact rates Age-structured population models using census data Contact matrix integration via POLYMOD custom matrices Final outbreak size calculations using analytic stochastic methods Interactive Shiny dashboard scenario exploration Real-world case studies including measles outbreaks census data","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Multigroup Vaccine Model","text":"Comprehensive documentation vignettes available : https://epiforesite.github.io/multigroup-vaccine/ View available vignettes:","code":"browseVignettes(\"multigroup.vaccine\")"},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"core-functions","dir":"","previous_headings":"","what":"Core Functions","title":"Multigroup Vaccine Model","text":"getOutputTable(): Run age-structured outbreak simulations vaccination getFinalSize(): Calculate final outbreak size two-group populations getFinalSizeDist(): Stochastic outbreak simulations distributional results transmissionRates(): Calculate transmission rate matrices R0 contact patterns contactMatrixPolymod(): Generate age-structured contact matrices POLYMOD data getCensusData(): Download process US Census Bureau population data run_my_app(): Launch interactive Shiny dashboard","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting Help","title":"Multigroup Vaccine Model","text":"Bug reports: GitHub Issues Documentation: Package website","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Multigroup Vaccine Model","text":"use package research, please obtain citation information R:","code":"citation(\"multigroup.vaccine\")"},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"development-setup","dir":"","previous_headings":"Citation","what":"Development Setup","title":"Multigroup Vaccine Model","text":"local development:","code":"# Clone the repository # git clone https://github.com/EpiForeSITE/multigroup-vaccine.git  # Install development dependencies install.packages(c(\"devtools\", \"roxygen2\", \"pkgdown\", \"lintr\"))  # Load the package for development devtools::load_all()  # Run tests devtools::test()  # Check package devtools::check()"},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Multigroup Vaccine Model","text":"project licensed MIT License - see LICENSE.md file details.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/index.html","id":"acknowledgments","dir":"","previous_headings":"","what":"Acknowledgments","title":"Multigroup Vaccine Model","text":"package part EpiForeSITE software ecosystem developed ForeSITE Group University Utah. Development supported Centers Disease Control Prevention’s Center Forecasting Outbreak Analytics (Cooperative agreement CDC-RFA-FT-23-0069). EpiForeSITE: Epidemiological Forecasting Scenario Modeling Initiative Translational Epidemiology","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/UtahAgeCountyPop.html","id":null,"dir":"Reference","previous_headings":"","what":"Population size by age group for counties in Utah — UtahAgeCountyPop","title":"Population size by age group for counties in Utah — UtahAgeCountyPop","text":"United States Census Bureau resident population estimates selected age groups county state Utah 2024","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/UtahAgeCountyPop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Population size by age group for counties in Utah — UtahAgeCountyPop","text":"","code":"UtahAgeCountyPop"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/UtahAgeCountyPop.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Population size by age group for counties in Utah — UtahAgeCountyPop","text":"data frame 29 rows 29 counties Utah 23 columns: county County name total Total population estimate age0to4 Age 0 4 years population estimate age5to9 Age 5 9 years population estimate age10to13 Age 10 13 years population estimate age14 Age 14 years population estimate age15 Age 15 years population estimate age16to17 Age 16 17 years population estimate age18to19 Age 18 19 years population estimate age20to24 age 20 24 years population estimate age25to29 age 25 29 years population estimate age30to34 age 30 34 years population estimate age35to39 age 35 39 years population estimate age40to44 age 40 44 years population estimate age45to49 age 45 49 years population estimate age50to54 age 50 54 years population estimate age55to59 age 55 59 years population estimate age60to64 age 60 64 years population estimate age65to69 age 65 69 years population estimate age70to74 age 70 74 years population estimate age75to79 age 75 79 years population estimate age80to84 age 80 84 years population estimate age85plus age 85 years older population estimate","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/UtahAgeCountyPop.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Population size by age group for counties in Utah — UtahAgeCountyPop","text":"https://www2.census.gov/programs-surveys/popest/datasets/2020-2024/counties/asrh/cc-est2024-agesex-49.csv","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/aggregateByAgeGroups.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate population counts into age groups — aggregateByAgeGroups","title":"Aggregate population counts into age groups — aggregateByAgeGroups","text":"Aggregate per-age population counts coarser age groups defined (sorted) lower bounds age_groups. length(age_groups) == 1, ages >= value aggregated single open-ended group (\"Xplus\"). length(age_groups) > 1, groups formed age_groups[] age_groups[+1] - 1 = 1:(n-1) age_groups[n] final group. Human-readable labels produced: \"under1\" 0–0 group, \"ageX\" single-year groups, \"XtoY\" ranges, \"Xplus\" final open group. function prints aggregation summaries console group using cat().","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/aggregateByAgeGroups.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate population counts into age groups — aggregateByAgeGroups","text":"","code":"aggregateByAgeGroups(ages, pops, age_groups)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/aggregateByAgeGroups.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate population counts into age groups — aggregateByAgeGroups","text":"ages Numeric vector ages (typically integers) corresponding entries pops. pops Numeric vector population counts age; must length ages. Note: NA values pops propagate group sums na.rm = TRUE used; clean impute missing values beforehand required. age_groups Numeric vector lower bounds desired age groups. Must sorted ascending order. length 1, single value defines \"Xplus\" group (ages >= X). length > 1, contiguous non-overlapping groups created described .","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/aggregateByAgeGroups.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate population counts into age groups — aggregateByAgeGroups","text":"named list components: pops Numeric vector aggregated population counts, one element per group. labels Character vector labels group (e.g. \"under1\", \"age5\", \"0to4\", \"65plus\"). age_ranges List numeric vectors length 2 giving inclusive lower upper bounds group; upper bound final group Inf.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/aggregateByAgeGroups.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Aggregate population counts into age groups — aggregateByAgeGroups","text":"Group boundaries inclusive ends finite ranges (.e. ages satisfying lower <= age <= upper). last group upper bound infinite. ages fall group aggregated count group 0 (sum(numeric(0)) == 0). function writes progress messages console cat() aggregated group (useful debugging / logging).","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/aggregateByAgeGroups.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregate population counts into age groups — aggregateByAgeGroups","text":"","code":"# \\donttest{ # Multiple groups example ages <- 0:100 pops <- rep(100, length(ages)) aggregateByAgeGroups(ages, pops, c(0, 5, 18, 65)) #> Aggregating ages 0 to 4: sum = 500 #> Aggregating ages 5 to 17: sum = 1300 #> Aggregating ages 18 to 64: sum = 4700 #> $pops #> [1]  500 1300 4700 3600 #>  #> $labels #> [1] \"0to4\"   \"5to17\"  \"18to64\" \"65plus\" #>  #> $age_ranges #> $age_ranges[[1]] #> [1] 0 4 #>  #> $age_ranges[[2]] #> [1]  5 17 #>  #> $age_ranges[[3]] #> [1] 18 64 #>  #> $age_ranges[[4]] #> [1]  65 Inf #>  #>   # Single open-ended group (65plus) aggregateByAgeGroups(ages, pops, 65) #> Aggregating ages 65 and above: sum = 3600 #> $pops #> [1] 3600 #>  #> $labels #> [1] \"65plus\" #>  #> $age_ranges #> $age_ranges[[1]] #> [1]  65 Inf #>  #>  # }"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixAgeSchool.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate a contact matrix for age groups and schools — contactMatrixAgeSchool","title":"Calculate a contact matrix for age groups and schools — contactMatrixAgeSchool","text":"Calculate contact matrix age groups schools","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixAgeSchool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate a contact matrix for age groups and schools — contactMatrixAgeSchool","text":"","code":"contactMatrixAgeSchool(   agelims,   agepops,   schoolagegroups,   schoolpops,   schportion )"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixAgeSchool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate a contact matrix for age groups and schools — contactMatrixAgeSchool","text":"agelims minimum age years age group agepops population size age group schoolagegroups index age group covered school schoolpops population size school schportion portion within-age-group contacts exclusively within school","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixPolymod.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate a contact matrix for age groups based on Polymod contact survey data — contactMatrixPolymod","title":"Calculate a contact matrix for age groups based on Polymod contact survey data — contactMatrixPolymod","text":"Calculate contact matrix age groups based Polymod contact survey data","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixPolymod.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate a contact matrix for age groups based on Polymod contact survey data — contactMatrixPolymod","text":"","code":"contactMatrixPolymod(agelims, agepops = NULL)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixPolymod.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate a contact matrix for age groups based on Polymod contact survey data — contactMatrixPolymod","text":"agelims minimum age years age group. maximum valid age limit 90, socialmixr contact_matrix function supports ages 90. Age limits greater 90 replaced 90 warning issued. agepops population size group, defaulting demography Polymod survey population. provided, must match length age groups defined agelims (adjustments exceeding 90-year limit).","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixPolymod.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate a contact matrix for age groups based on Polymod contact survey data — contactMatrixPolymod","text":"symmetric contact matrix row column names indicating age groups.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixPolymod.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate a contact matrix for age groups based on Polymod contact survey data — contactMatrixPolymod","text":"socialmixr contact_matrix function supports age limits 90. age limits 90 adjusted 90 warning, corresponding populations aggregated single \"90+\" group.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixPropPref.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate group contact matrix with proportional mixing and preferential mixing within group — contactMatrixPropPref","title":"Calculate group contact matrix with proportional mixing and preferential mixing within group — contactMatrixPropPref","text":"Calculate group contact matrix proportional mixing preferential mixing within group","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixPropPref.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate group contact matrix with proportional mixing and preferential mixing within group — contactMatrixPropPref","text":"","code":"contactMatrixPropPref(popsize, contactrate, ingroup)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/contactMatrixPropPref.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate group contact matrix with proportional mixing and preferential mixing within group — contactMatrixPropPref","text":"popsize population size group contactrate overall contact rate group ingroup fraction group's contacts exclusively -group","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/disaggregateCityAges.html","id":null,"dir":"Reference","previous_headings":"","what":"Disaggregate ACS 5-year age groups into single-year ages — disaggregateCityAges","title":"Disaggregate ACS 5-year age groups into single-year ages — disaggregateCityAges","text":"Takes population counts ACS 5-year age groupings uniformly distributes single-year ages. allows flexible age group aggregations.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/disaggregateCityAges.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disaggregate ACS 5-year age groups into single-year ages — disaggregateCityAges","text":"","code":"disaggregateCityAges(acs_age_pops)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/disaggregateCityAges.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disaggregate ACS 5-year age groups into single-year ages — disaggregateCityAges","text":"acs_age_pops Numeric vector length 18 containing populations ACS age groups: 0-4, 5-9, 10-14, 15-19, 20-24, 25-29, 30-34, 35-39, 40-44, 45-49, 50-54, 55-59, 60-64, 65-69, 70-74, 75-79, 80-84, 85+","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/disaggregateCityAges.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disaggregate ACS 5-year age groups into single-year ages — disaggregateCityAges","text":"list containing: ages Vector single-year ages (0, 1, 2, ..., 85) age_pops Vector populations single year age_labels Vector labels age","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/finalsize.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate final outbreak size or distribution of a multigroup transmission model for a given basic reproduction number, contact/transmission assumptions, and initial conditions — finalsize","title":"Calculate final outbreak size or distribution of a multigroup transmission model for a given basic reproduction number, contact/transmission assumptions, and initial conditions — finalsize","text":"Calculate final outbreak size distribution multigroup transmission model given basic reproduction number, contact/transmission assumptions, initial conditions","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/finalsize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate final outbreak size or distribution of a multigroup transmission model for a given basic reproduction number, contact/transmission assumptions, and initial conditions — finalsize","text":"","code":"finalsize(   popsize,   R0,   contactmatrix,   relsusc,   reltransm,   initR,   initI,   initV,   method = \"ODE\",   nsims = 1 )"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/finalsize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate final outbreak size or distribution of a multigroup transmission model for a given basic reproduction number, contact/transmission assumptions, and initial conditions — finalsize","text":"popsize population size group R0 basic reproduction number contactmatrix matrix group--group contact rates relsusc relative susceptibility infection per contact group reltransm relative transmissibility per contact group initR initial number group already infected removed (included size result) initI initial number group infectious initV initial number group vaccinated method method final size calculation simulation use nsims number simulations run stochastic methods","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/finalsize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate final outbreak size or distribution of a multigroup transmission model for a given basic reproduction number, contact/transmission assumptions, and initial conditions — finalsize","text":"matrix final number infected group (column) simulation (row)","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusData.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Census Population Data by Age and County — getCensusData","title":"Get Census Population Data by Age and County — getCensusData","text":"Downloads processes U.S. Census Bureau population estimates specified state county, organized age groups. Supports single-year age data optional sex disaggregation.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Census Population Data by Age and County — getCensusData","text":"","code":"getCensusData(   state_fips,   county_name,   year = 2024,   age_groups = NULL,   by_sex = FALSE,   csv_path = NULL,   cache_dir = NULL )"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Census Population Data by Age and County — getCensusData","text":"state_fips Two-digit FIPS code state (e.g., \"49\" Utah) county_name Name county (e.g., \"Salt Lake County\") year Census estimate year: 2020-2024 July 1 estimates, 2020.1 April 1, 2020 base age_groups Vector age limits grouping (e.g., c(0, 5, 18, 65)). Default NULL returns single-year ages 0-85+ by_sex Logical, TRUE returns separate male/female groups csv_path Optional path previously downloaded census CSV file. provided, data read file instead downloading. Use cache_dir automatic caching. cache_dir Optional directory path caching downloaded census files. provided, function check existing cached file use , download save new one. Default NULL (caching). Use \".\" current directory specify custom path like \"~/census_cache\"","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Census Population Data by Age and County — getCensusData","text":"list containing: county County name state State name year Census year total_pop Total population age_pops Vector populations age group age_labels Labels age group sex_labels by_sex=TRUE, labels indicating sex data Full filtered data frame","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Census Population Data by Age and County — getCensusData","text":"","code":"# Use the included example data (recommended for package examples) slc_data <- getCensusData(   state_fips = \"49\",    county_name = \"Salt Lake County\",   year = 2024,   csv_path = getCensusDataPath() ) #> Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv  # Get age groups without sex disaggregation slc_grouped <- getCensusData(   state_fips = \"49\",   county_name = \"Salt Lake County\",    year = 2024,   age_groups = c(0, 5, 18, 65),   csv_path = getCensusDataPath() ) #> Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv #> Aggregating ages 0 to 4: sum = 72443 #> Aggregating ages 5 to 17: sum = 219984 #> Aggregating ages 18 to 64: sum = 771551  # Get age groups by sex slc_by_sex <- getCensusData(   state_fips = \"49\",   county_name = \"Salt Lake County\",   year = 2024,    age_groups = c(0, 5, 18, 65),   by_sex = TRUE,   csv_path = getCensusDataPath() ) #> Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv #> Aggregating ages 0 to 4: sum = 37449 #> Aggregating ages 5 to 17: sum = 112422 #> Aggregating ages 18 to 64: sum = 395422 #> Aggregating ages 0 to 4: sum = 34994 #> Aggregating ages 5 to 17: sum = 107562 #> Aggregating ages 18 to 64: sum = 376129  if (FALSE) { # \\dontrun{ # Download from web (requires internet) slc_web <- getCensusData(   state_fips = \"49\",   county_name = \"Salt Lake County\",   year = 2024 )  # Use caching to avoid repeated downloads slc_cached <- getCensusData(   state_fips = \"49\",   county_name = \"Salt Lake County\",   year = 2024,   cache_dir = \"~/census_cache\" ) } # }"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusDataPath.html","id":null,"dir":"Reference","previous_headings":"","what":"Get path to example census data file — getCensusDataPath","title":"Get path to example census data file — getCensusDataPath","text":"Returns path example Utah census data CSV file included package. useful examples, testing, internet access available.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusDataPath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get path to example census data file — getCensusDataPath","text":"","code":"getCensusDataPath()"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusDataPath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get path to example census data file — getCensusDataPath","text":"Character string path example census CSV file Utah (FIPS 49)","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCensusDataPath.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get path to example census data file — getCensusDataPath","text":"","code":"# Get path to example Utah census file utah_csv <- getCensusDataPath()  # Use it with getCensusData if (FALSE) { # \\dontrun{ slc_data <- getCensusData(   state_fips = \"49\",   county_name = \"Salt Lake County\",   year = 2024,   csv_path = getCensusDataPath() ) } # }"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCityData.html","id":null,"dir":"Reference","previous_headings":"","what":"Get City Population Data by Age — getCityData","title":"Get City Population Data by Age — getCityData","text":"Reads processes population data specific cities ACS 5-year estimates, organized age groups. ACS data provides 5-year age groupings (0-4, 5-9, etc.) can disaggregated single-year ages aggregated custom age groups.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCityData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get City Population Data by Age — getCityData","text":"","code":"getCityData(   city_name,   csv_path,   age_groups = c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85) )"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCityData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get City Population Data by Age — getCityData","text":"city_name Name city (e.g., \"Hildale city, Utah\") csv_path Path city population CSV file age_groups Vector age limits grouping. NULL, returns single-year ages (disaggregated 5-year ACS groups). Default uses 5-year intervals: c(0,5,10,...,85)","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCityData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get City Population Data by Age — getCityData","text":"list containing: city City name year Data year total_pop Total population age_pops Vector populations age group age_labels Labels age group data Full data frame","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getCityData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get City Population Data by Age — getCityData","text":"","code":"# Load Hildale data with default 5-year age groups hildale_data <- getCityData(   city_name = \"Hildale city, Utah\",   csv_path = system.file(\"extdata\", \"hildale_ut_2023.csv\", package = \"multigroup.vaccine\") ) #> Aggregating ages 0 to 4: sum = 57 #> Aggregating ages 5 to 9: sum = 110 #> Aggregating ages 10 to 14: sum = 181 #> Aggregating ages 15 to 19: sum = 157 #> Aggregating ages 20 to 24: sum = 134 #> Aggregating ages 25 to 29: sum = 128 #> Aggregating ages 30 to 34: sum = 55 #> Aggregating ages 35 to 39: sum = 110 #> Aggregating ages 40 to 44: sum = 59 #> Aggregating ages 45 to 49: sum = 105 #> Aggregating ages 50 to 54: sum = 64 #> Aggregating ages 55 to 59: sum = 32 #> Aggregating ages 60 to 64: sum = 29 #> Aggregating ages 65 to 69: sum = 35 #> Aggregating ages 70 to 74: sum = 0 #> Aggregating ages 75 to 79: sum = 27 #> Aggregating ages 80 to 84: sum = 18  # Load with single-year ages (disaggregated) hildale_single <- getCityData(   city_name = \"Hildale city, Utah\",   csv_path = system.file(\"extdata\", \"hildale_ut_2023.csv\", package = \"multigroup.vaccine\"),   age_groups = NULL )  # Load with custom age groups hildale_custom <- getCityData(   city_name = \"Hildale city, Utah\",   csv_path = system.file(\"extdata\", \"hildale_ut_2023.csv\", package = \"multigroup.vaccine\"),   age_groups = c(0, 18, 65) ) #> Aggregating ages 0 to 17: sum = 442.2 #> Aggregating ages 18 to 64: sum = 778.8"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSize.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate final size of outbreak: the total number of infections in each group — getFinalSize","title":"Calculate final size of outbreak: the total number of infections in each group — getFinalSize","text":"Calculate final size outbreak: total number infections group","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate final size of outbreak: the total number of infections in each group — getFinalSize","text":"","code":"getFinalSize(   vacTime,   vacPortion,   popSize,   R0,   recoveryRate,   relContact,   contactWithinGroup,   relSusc )"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate final size of outbreak: the total number of infections in each group — getFinalSize","text":"vacTime time first case vaccinations delivered vacPortion fraction population vaccinated popSize size population R0 overall basic reproduction number recoveryRate inverse mean infectious period (time units vacTime) relContact relative overall contact rate group contactWithinGroup fraction group's contacts -group vs -group relSusc relative susceptibility infection per contact group","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeAnalytic.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate final size of outbreak: the total number of infections in each group, by solving the analytic final size equation — getFinalSizeAnalytic","title":"Calculate final size of outbreak: the total number of infections in each group, by solving the analytic final size equation — getFinalSizeAnalytic","text":"Calculate final size outbreak: total number infections group, solving analytic final size equation","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeAnalytic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate final size of outbreak: the total number of infections in each group, by solving the analytic final size equation — getFinalSizeAnalytic","text":"","code":"getFinalSizeAnalytic(transmrates, recoveryrate, popsize, initR, initI, initV)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeAnalytic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate final size of outbreak: the total number of infections in each group, by solving the analytic final size equation — getFinalSizeAnalytic","text":"transmrates matrix group--group (column--row) transmission rates recoveryrate inverse mean infectious period popsize population size group initR initial number group already infected removed (included final size) initI initial number group infectious initV initial number group vaccinated","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeDist.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the distribution of final outbreak sizes by group using stochastic simulations of multi-group model — getFinalSizeDist","title":"Estimate the distribution of final outbreak sizes by group using stochastic simulations of multi-group model — getFinalSizeDist","text":"Estimate distribution final outbreak sizes group using stochastic simulations multi-group model","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeDist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the distribution of final outbreak sizes by group using stochastic simulations of multi-group model — getFinalSizeDist","text":"","code":"getFinalSizeDist(n, transmrates, recoveryrate, popsize, initR, initI, initV)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeDist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the distribution of final outbreak sizes by group using stochastic simulations of multi-group model — getFinalSizeDist","text":"n number simulations run transmrates matrix group--group (column--row) transmission rates recoveryrate inverse mean infectious period popsize population size group initR initial number group already infected removed (included size result) initI initial number group infectious initV initial number group vaccinated","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeDist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the distribution of final outbreak sizes by group using stochastic simulations of multi-group model — getFinalSizeDist","text":"matrix final number infected group (column) simulation (row)","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeDistEscape.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the distribution of final outbreak sizes by group using a hybrid model: stochastic simulations for smaller-sized outbreaks and deterministic ordinary differential equation model for ","title":"Estimate the distribution of final outbreak sizes by group using a hybrid model: stochastic simulations for smaller-sized outbreaks and deterministic ordinary differential equation model for ","text":"Estimate distribution final outbreak sizes group using hybrid model: stochastic simulations smaller-sized outbreaks deterministic ordinary differential equation model \"escaped\" outbreaks","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeDistEscape.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the distribution of final outbreak sizes by group using a hybrid model: stochastic simulations for smaller-sized outbreaks and deterministic ordinary differential equation model for ","text":"","code":"getFinalSizeDistEscape(   n,   transmrates,   recoveryrate,   popsize,   initR,   initI,   initV )"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeDistEscape.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the distribution of final outbreak sizes by group using a hybrid model: stochastic simulations for smaller-sized outbreaks and deterministic ordinary differential equation model for ","text":"n number simulations run transmrates matrix group--group (column--row) transmission rates recoveryrate inverse mean infectious period popsize population size group initR initial number group already infected removed (included size result) initI initial number group infectious initV initial number group vaccinated","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeDistEscape.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the distribution of final outbreak sizes by group using a hybrid model: stochastic simulations for smaller-sized outbreaks and deterministic ordinary differential equation model for ","text":"matrix final number infected group (column) simulation (row)","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeODE.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate outbreak final size, the total number of infections in each group, by numerically solving the multi-group ordinary differential equation — getFinalSizeODE","title":"Calculate outbreak final size, the total number of infections in each group, by numerically solving the multi-group ordinary differential equation — getFinalSizeODE","text":"Calculate outbreak final size, total number infections group, numerically solving multi-group ordinary differential equation","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeODE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate outbreak final size, the total number of infections in each group, by numerically solving the multi-group ordinary differential equation — getFinalSizeODE","text":"","code":"getFinalSizeODE(transmrates, recoveryrate, popsize, initR, initI, initV)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getFinalSizeODE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate outbreak final size, the total number of infections in each group, by numerically solving the multi-group ordinary differential equation — getFinalSizeODE","text":"transmrates matrix group--group (column--row) transmission rates recoveryrate inverse mean infectious period popsize population size group initR initial number group already infected removed (included final size) initI initial number group infectious initV initial number group vaccinated","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getOutputTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Output Table for Vaccine Model Scenarios — getOutputTable","title":"Generate Output Table for Vaccine Model Scenarios — getOutputTable","text":"function generates comprehensive output table showing R0 values, vaccine effectiveness, escape probabilities different vaccination scenarios multigroup population model.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getOutputTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Output Table for Vaccine Model Scenarios — getOutputTable","text":"","code":"getOutputTable(agelims, agepops, agecovr, ageveff, initgrp)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getOutputTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Output Table for Vaccine Model Scenarios — getOutputTable","text":"agelims Vector age group limits (lower bounds) agepops Vector population sizes age group agecovr Vector vaccination coverage rates age group ageveff Vector vaccine effectiveness rates age group initgrp Index age group initial infection occurs","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getOutputTable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Output Table for Vaccine Model Scenarios — getOutputTable","text":"matrix columns R0, R0local, Rv, pEscape, escapeInfTot, infection counts age group","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getSizeAtTime.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate outbreak size at a given time — getSizeAtTime","title":"Calculate outbreak size at a given time — getSizeAtTime","text":"Calculate outbreak size given time","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getSizeAtTime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate outbreak size at a given time — getSizeAtTime","text":"","code":"getSizeAtTime(time, transmrates, recoveryrate, popsize, initR, initI, initV)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getSizeAtTime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate outbreak size at a given time — getSizeAtTime","text":"time time calculate outbreak size transmrates matrix group--group (column--row) transmission rates recoveryrate inverse mean infectious period popsize population size group initR initial number group already infected removed (included size result) initI initial number group infectious initV initial number group vaccinated","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getSizeAtTime.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate outbreak size at a given time — getSizeAtTime","text":"list totalSize (total cumulative infections) activeSize (total currently infected) group specified time","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getStateFIPS.html","id":null,"dir":"Reference","previous_headings":"","what":"Get state FIPS code by state name — getStateFIPS","title":"Get state FIPS code by state name — getStateFIPS","text":"Get state FIPS code state name","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getStateFIPS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get state FIPS code by state name — getStateFIPS","text":"","code":"getStateFIPS(state_name)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getStateFIPS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get state FIPS code by state name — getStateFIPS","text":"state_name State name (e.g., \"Utah\")","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getStateFIPS.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get state FIPS code by state name — getStateFIPS","text":"Two-digit FIPS code character","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/getStateFIPS.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get state FIPS code by state name — getStateFIPS","text":"","code":"getStateFIPS(\"Utah\")  # Returns \"49\" #> [1] \"49\""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/listCounties.html","id":null,"dir":"Reference","previous_headings":"","what":"List available counties for a state — listCounties","title":"List available counties for a state — listCounties","text":"List available counties state","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/listCounties.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List available counties for a state — listCounties","text":"","code":"listCounties(state_fips, year = 2024, csv_path = NULL, cache_dir = NULL)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/listCounties.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List available counties for a state — listCounties","text":"state_fips Two-digit FIPS code state year Census year (2020-2024), default 2024 csv_path Optional path previously downloaded census CSV file cache_dir Optional directory path caching downloaded census files","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/listCounties.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List available counties for a state — listCounties","text":"Character vector county names","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/listCounties.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List available counties for a state — listCounties","text":"","code":"# Use the included example data utah_counties <- listCounties(   state_fips = \"49\",    year = 2024,   csv_path = getCensusDataPath() ) #> Reading census data from: /home/runner/work/_temp/Library/multigroup.vaccine/extdata/cc-est2024-syasex-49.csv  if (FALSE) { # \\dontrun{ # Download from web (requires internet) utah_counties_web <- listCounties(state_fips = \"49\", year = 2024)  # With caching utah_counties_cached <- listCounties(state_fips = \"49\", cache_dir = \"~/census_cache\") } # }"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/odeSIR.html","id":null,"dir":"Reference","previous_headings":"","what":"Ordinary differential equation function for multi-group susceptible-infectious-removed (SIR) model used as ","title":"Ordinary differential equation function for multi-group susceptible-infectious-removed (SIR) model used as ","text":"Ordinary differential equation function multi-group susceptible-infectious-removed (SIR) model used \"func\" argument passed ode() function deSolve package","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/odeSIR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ordinary differential equation function for multi-group susceptible-infectious-removed (SIR) model used as ","text":"","code":"odeSIR(time, state, par)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/odeSIR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ordinary differential equation function for multi-group susceptible-infectious-removed (SIR) model used as ","text":"time vector times function evaluated state vector number individuals group state: S states followed states followed R states par vector parameter values: group--group transmission rate matrix elements (row-wise) followed recovery rate","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/processCensusDataBySex.html","id":null,"dir":"Reference","previous_headings":"","what":"Process census data with sex disaggregation — processCensusDataBySex","title":"Process census data with sex disaggregation — processCensusDataBySex","text":"Process census data sex disaggregation","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/processCensusDataBySex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process census data with sex disaggregation — processCensusDataBySex","text":"","code":"processCensusDataBySex(county_data, age_groups)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/processCensusDataTotal.html","id":null,"dir":"Reference","previous_headings":"","what":"Process census data without sex disaggregation — processCensusDataTotal","title":"Process census data without sex disaggregation — processCensusDataTotal","text":"Process census data without sex disaggregation","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/processCensusDataTotal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process census data without sex disaggregation — processCensusDataTotal","text":"","code":"processCensusDataTotal(county_data, age_groups)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/run_my_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Runs the shiny app — run_my_app","title":"Runs the shiny app — run_my_app","text":"Runs shiny app","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/run_my_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Runs the shiny app — run_my_app","text":"","code":"run_my_app(...)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/run_my_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Runs the shiny app — run_my_app","text":"... arguments passed shiny::shinyAppDir().","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/run_my_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Runs the shiny app — run_my_app","text":"Starts execution app, printing port console.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/run_my_app.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Runs the shiny app — run_my_app","text":"app featured package one presented shiny demo: https://shiny.posit.co/r/getstarted/shiny-basics/lesson1/index.html.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/run_my_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Runs the shiny app — run_my_app","text":"","code":"# To be executed interactively only if (interactive()) {   run_my_app() }"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/transmissionRates.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate transmission rate matrix for multi-group model with specified R0 — transmissionRates","title":"Calculate transmission rate matrix for multi-group model with specified R0 — transmissionRates","text":"Calculate transmission rate matrix multi-group model specified R0","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/transmissionRates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate transmission rate matrix for multi-group model with specified R0 — transmissionRates","text":"","code":"transmissionRates(R0, meaninf, reltransm)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/transmissionRates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate transmission rate matrix for multi-group model with specified R0 — transmissionRates","text":"R0 overall basic reproduction number meaninf mean duration infectious period reltransm matrix relative transmission rates, column-group row-group","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/transmissionRates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate transmission rate matrix for multi-group model with specified R0 — transmissionRates","text":"matrix transmission rates (row) (column) group, time units meaninf","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/transmissionRates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate transmission rate matrix for multi-group model with specified R0 — transmissionRates","text":"","code":"transmissionRates(R0 = 15, meaninf = 7,   reltransm = rbind(c(1, 0.5, 0.9), c(0.3, 1.9, 1), c(0.3, 0.6, 2.8))) #>           [,1]      [,2]      [,3] #> [1,] 0.6270422 0.3135211 0.5643380 #> [2,] 0.1881127 1.1913803 0.6270422 #> [3,] 0.1881127 0.3762253 1.7557183"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/vaxrepnum.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate reproduction number for a multigroup model with a given state of vaccination and immunity — vaxrepnum","title":"Calculate reproduction number for a multigroup model with a given state of vaccination and immunity — vaxrepnum","text":"Calculate reproduction number multigroup model given state vaccination immunity","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/vaxrepnum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate reproduction number for a multigroup model with a given state of vaccination and immunity — vaxrepnum","text":"","code":"vaxrepnum(meaninf, popsize, trmat, initR, initV, vaxeff)"},{"path":"https://epiforesite.github.io/multigroup-vaccine/reference/vaxrepnum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate reproduction number for a multigroup model with a given state of vaccination and immunity — vaxrepnum","text":"meaninf mean infectious period time units trmat popsize population size group trmat matrix group--group (column--row) transmission rates initR initial number group already infected immune initV initial number group vaccinated vaxeff effectiveness (0 1) vaccine producing immunity infection","code":""},{"path":[]},{"path":"https://epiforesite.github.io/multigroup-vaccine/news/index.html","id":"multigroupvaccine-011","dir":"Changelog","previous_headings":"","what":"multigroup.vaccine 0.1.1","title":"multigroup.vaccine 0.1.1","text":"Fixed bug contactMatrixPolymod() age limits exceeding 90 caused dimension mismatch errors. function now warns automatically adjusts age limits 90, aggregating corresponding populations 90+ group. (#39)","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/news/index.html","id":"multigroupvaccine-010","dir":"Changelog","previous_headings":"","what":"multigroup.vaccine 0.1.0","title":"multigroup.vaccine 0.1.0","text":"Initial release multigroup.vaccine, package examining effects differential vaccination rates populations different sizes, contact rates, epidemiological parameters.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"multigroup.vaccine 0.1.0","text":"Multi-group vaccine modeling functions: getFinalSize(), transmissionRates(), getFinalSizeODE(), getFinalSizeDist(), getSizeAtTime(). Interactive Shiny application via run_my_app() exploring vaccine scenarios visualizing effects differential vaccination rates across population groups. U.S. Census data integration: getCensusData() downloads processes Census Bureau population estimates age county, support age-structured populations, sex disaggregation, built-caching. Helper functions include getCensusDataPath(), getStateFIPS(), listCounties(). Contact matrix functionality using POLYMOD contact survey data via socialmixr package realistic age-structured epidemic modeling. Example dataset UtahAgeCountyPop 2024 population estimates age group Utah counties.","code":""},{"path":"https://epiforesite.github.io/multigroup-vaccine/news/index.html","id":"vignettes-0-1-0","dir":"Changelog","previous_headings":"","what":"Vignettes","title":"multigroup.vaccine 0.1.0","text":"Contact Matrix Examples Comparison epiworld Measles Age-Structured Model","code":""}]
